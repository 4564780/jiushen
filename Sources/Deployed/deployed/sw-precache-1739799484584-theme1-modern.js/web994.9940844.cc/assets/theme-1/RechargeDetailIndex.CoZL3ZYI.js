import{i2 as be,u as ue,i3 as ye,i4 as _e,i5 as Ie,a as h,i6 as M,w as O,i7 as S,i8 as z,i9 as ge,ia as he,ib as q,_ as C,ic as pe,cm as L,e$ as fe,s as we,bG as K,dM as _,I as x,t as ve,ci as ke,Y as X,id as me,D as Ce,ie as Y,a0 as Z,a4 as Q,ig as te,ih as xe,ii as Re,ht as j,ij as Te,hC as Se,a6 as Fe,gO as qe}from"./main.C8q1iJMV.js";import{O as I,f as V,a as se}from"./config.ClEOl29l.js";import{d as Ne,I as Oe}from"../vendors/vendor-stable.LD58Pbb3.js";import{e as W,w as Me,a0 as Pe}from"../vendors/vendor-default.CjiYZF7Q.js";import{s as $e,h as ce,r as G,l as w,p as e,v as R,f,F as ee,C as ae}from"../vendors/vendor-@vue.DNlpgob2.js";import{U as Ue}from"./UploadIndex.CYQY2hWp.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";const g=Ne("recharge-detail",()=>{const a=be(),{close:o}=ue(),r=$e(),t=ce({loading:!1,fetchError:!1,countdown:0,countdownText:"",btnCountdown:0}),i=G([]);let d=null,s=null;const n=async T=>{var le,ne,re;if(!T){r.value=void 0;return}t.loading=!0;const[F,D]=await W(ye({order_no:T}));if(t.loading=!1,t.fetchError=!1,F){t.fetchError=!0,r.value=void 0;return}const k=D.data.data;u(),k!=null&&k.payOrderTimeOut&&(k==null?void 0:k.status)===I.wait&&(t.countdown=Math.floor(k.payOrderTimeOut-Math.floor(Date.now()/1e3)),t.countdown>0&&m()),console.log(k,T,"apiGetRechargeOrderDetail"),r.value=k,p.name=(re=(ne=(le=r.value)==null?void 0:le.orderName)!=null?ne:a.formModel.transfer.realName)!=null?re:""},c=async()=>{var D,k;if(!((D=r.value)!=null&&D.order_no))return;t.loading=!0;const[T,F]=await W(_e({order_no:r.value.order_no}));if(t.loading=!1,T)return r.value=void 0,Promise.reject();r.value=(k=F.data)==null?void 0:k.data},m=()=>{if(--t.countdown<=0){u();return}t.countdownText=Ie(t.countdown),d=setTimeout(()=>{m()},1e3)},u=()=>{d&&(clearTimeout(d),d=null),t.countdown=0,t.countdownText=""},b=()=>{if(--t.btnCountdown<=0){v();return}s=setTimeout(()=>{b()},1e3)},v=()=>{s&&(clearTimeout(s),s=null),t.btnCountdown=0},p=ce({name:"",utrCode:"",payRemark:"",userRemark:""}),N=G(!1);return{orderInfo:r,fetchOrderInfo:n,status:t,cancelOrder:c,closeModal:()=>{o("rechargeDetail"),r.value=void 0,p.name="",p.utrCode="",p.payRemark="",p.userRemark="",i.value=[],N.value=!1},clearCountdown:u,formModel:p,certificateFiles:i,btnCountdown:b}}),ie=(a,o=1)=>{const r="₫";let t="";const i=d=>C(d,{toFixedType:"currency"}).toString();return o<=1?(t="".concat(a,"1=").concat(i(Math.round(1/o))),a===r&&(t="1".concat(a,"=").concat(i(Math.round(1/o))))):(t="".concat(a).concat(i(o),"=1"),a===r&&(t="".concat(i(o)).concat(a,"=1"))),t},$=a=>{if(!V[a])return;const o=document.getElementById(V[a]);o&&o.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},oe=a=>[q.online,q.unknown,q.artificial,q.merchant].includes(a),Ve=async()=>{var p,N;const a=g(),{t:o}=h();if(!a.orderInfo)return;const{realNameSwitch:r,order_no:t,utrSwitch:i,remarkSwitch:d,transferCertificateSwitch:s}=a.orderInfo,{utrCode:n,name:c,payRemark:m,userRemark:u}=a.formModel;let b="";if(r!==M.close&&!c){O({type:"error",message:o("lobby.modal.pay.realNameRequired")}),$("realname");return}if(S.required===i&&(!n||n.length<4)){O({type:"error",message:o("lobby.modal.pay.details.UTRPlaceholder")}),$("utr");return}if(S.requiredLast4===i&&n.length!==4){O({type:"error",message:o("lobby.modal.pay.details.UTRToast",{num:4})}),$("utr");return}if(S.requiredLast6===i&&n.length!==6){O({type:"error",message:o("lobby.modal.pay.details.UTRToast",{num:6})}),$("utr");return}if(d===z.required&&!m){O({type:"error",message:o("lobby.modal.pay.details.transferRemkPlaceholder")}),$("remark");return}if(s!==z.close){if(s===z.required&&!a.certificateFiles.length){O({type:"error",message:o("lobby.modal.pay.details.uploadTransferCertificateRequired")}),$("certificate");return}if(a.certificateFiles.length){const P=new FormData;P.append("uploadfile",a.certificateFiles[0]);const[T,F]=await W(ge(P));if(T)return;b=(N=(p=F.data.data)==null?void 0:p.successLinks[0])!=null?N:""}}a.status.loading=!0;const[v]=await W(he({order_no:t,name:c,utrCode:n,payRemark:m,userRemark:u,transferCertificate:b}));a.status.loading=!1,v&&setTimeout(()=>{a.closeModal()},1e3),a.fetchOrderInfo(t)},Be="_content_1kqsh_25",De="_tips_1kqsh_67",Le="_icon_1kqsh_71",je="_list_1kqsh_75",Ae="_label_1kqsh_90",Ee="_info_1kqsh_99",ze="_bold_1kqsh_115",We="_herf_1kqsh_118",Ge="_transferCertificate_1kqsh_124",l={"recharge-detail":"_recharge-detail_1kqsh_17",content:Be,"input-content":"_input-content_1kqsh_64",tips:De,icon:Le,list:je,label:Ae,"btn-copy":"_btn-copy_1kqsh_96",info:Ee,bold:ze,herf:We,"flex-start":"_flex-start_1kqsh_121",transferCertificate:Ge,"font-bold":"_font-bold_1kqsh_131"},Ze=w({setup(){const a=g(),{t:o}=h();return()=>{var t,i;if(!a.orderInfo||!oe(a.orderInfo.pay_kind)||((t=a.orderInfo)==null?void 0:t.status)!==I.success||!a.orderInfo.feeRate||!a.orderInfo.fee)return null;const r=(i=a.orderInfo.feeRate.replace(/[^\d.]/g,""))!=null?i:"0";return e("ul",{class:l.list},[e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.feeRate")]),e("span",null,[C(r,{toFixedType:"currency"}).toString(),R("%")])]),e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.fee")]),e("span",null,[C(a.orderInfo.fee,{toFixedType:"currency"}).toString()])]),e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.deduction")]),e("span",null,[C(a.orderInfo.reduceFee,{toFixedType:"currency"}).toString()])]),e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.realFee")]),e("span",null,[C(a.orderInfo.realFee,{toFixedType:"currency"}).toString()])]),e("li",{class:l.bold},[e("span",{class:l.label},[o("lobby.modal.pay.realScore")]),e("span",null,[C(a.orderInfo.amount,{toFixedType:"currency"}).toString()])])])}}}),Qe="_footer_113yt_17",Ye="_countdown_113yt_25",He="_tips_113yt_31",A={footer:Qe,countdown:Ye,"wallet-wait":"_wallet-wait_113yt_28",tips:He};function Je(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!ae(a)}const Ke=w({setup(){const a=g(),{close:o}=ue(),{t:r}=h(),t=()=>{we({title:r("lobby.common.tips.title"),showCancelButton:!0,message:()=>e("div",null,[e("p",null,[r("lobby.modal.pay.details.cancelOrderContent1")]),e("p",null,[r("lobby.modal.pay.details.cancelOrderContent2")])]),onConfirm:async()=>{a.cancelOrder().catch(()=>{setTimeout(()=>{a.closeModal()},1e3)})}})},i=f(()=>{var n;return((n=a.orderInfo)==null?void 0:n.status)===I.wait&&a.orderInfo.pay_kind===q.transfer}),d=f(()=>{var n,c;return((n=a.orderInfo)==null?void 0:n.status)===I.wait&&((c=a.orderInfo)==null?void 0:c.payment_type)===pe.wallet&&a.orderInfo.wallet_url}),s=f(()=>{var n,c,m;return((n=a.orderInfo)==null?void 0:n.status)===I.needTodo||((c=a.orderInfo)==null?void 0:c.status)===I.needTow||((m=a.orderInfo)==null?void 0:m.status)===I.confirmed});return()=>{let n;return!i.value&&!d.value&&!s.value?null:e("div",{class:A.footer},[i.value&&e(ee,null,[e(L,{onClick:t,plain:!0,clearBackground:!0},Je(n=r("lobby.modal.pay.details.cancel"))?n:{default:()=>[n]}),e(L,{loading:a.status.loading,disabled:!!a.status.btnCountdown,onClick:()=>{Ve()}},{default:()=>[e("p",null,[r("lobby.modal.pay.details.confirm")]),a.status.btnCountdown>0&&e("span",{class:A.countdown},[R("("),r("lobby.modal.pay.details.confirmRemark",{seconds:a.status.btnCountdown}),R(")")])]})]),s.value&&e(L,{type:"primary",block:!0,onClick:()=>{o("rechargeRecord"),a.closeModal()}},{default:()=>[e("p",null,[r("lobby.modal.pay.details.toPayBtn")])]}),d.value&&e("div",{class:A["wallet-wait"]},[e("p",{class:A.tips},[r("lobby.modal.pay.details.noWalletRemark")]),e(L,{type:"warning",block:!0,onClick:()=>fe(a.orderInfo.wallet_url)},{default:()=>[e("p",null,[r("lobby.modal.pay.details.goToWallet")])]})])])}}}),Xe="_info_too7b_17",E={info:Xe,"wallet-icon":"_wallet-icon_too7b_17","wallet-info":"_wallet-info_too7b_23","wallet-link":"_wallet-link_too7b_27"},ea=w({setup(){const a=g(),{t:o}=h();return()=>{var r;return!a.orderInfo||!oe(a.orderInfo.pay_kind)?null:e("ul",{class:[l.list,E.info]},[e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.transaction")]),e("span",null,[a.orderInfo.order_type_name])]),e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.method")]),e("span",{class:l.info},[a.orderInfo.payment_name])]),e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.channel")]),a.orderInfo.pay_kind===q.merchant?e("span",{class:l.herf,onClick:()=>{fe(a.orderInfo.contactUrl)}},[a.orderInfo.bank_name]):e("span",null,[a.orderInfo.bank_name])]),e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.createTime")]),e("span",null,[K(a.orderInfo.createtime)])]),a.orderInfo.status===I.success&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.payedTime")]),e("span",null,[K(a.orderInfo.payedtime)])]),e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.orderNo")]),e("span",null,[a.orderInfo.order_no,e(_,{class:l["btn-copy"],text:a.orderInfo.order_no},null)])]),a.orderInfo.walletName&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.tripartiteWallet")]),e("span",{class:E["wallet-info"]},[e(x,{src:a.orderInfo.walletLogo,class:E["wallet-icon"]},null),e("span",null,[a.orderInfo.walletName]),e("a",{class:E["wallet-link"],href:(r=a.orderInfo.walletDomain)!=null?r:"#",target:"_blank"},[o("lobby.modal.pay.details.checkWallet")])])]),a.orderInfo.frontRemark&&e("li",null,[e("span",{class:[l.alignSelfStart,l.label]},[o("lobby.modal.pay.details.frontRemark")]),e("span",{class:l["flex-start"]},[a.orderInfo.frontRemark,e(_,{class:l["btn-copy"],text:a.orderInfo.frontRemark},null)])])])}}}),aa="_icon_12awh_17",oa="_show_12awh_24",la="_hidden_12awh_28",U={icon:aa,show:oa,hidden:la},na=w({setup(){const a=g(),{t:o}=h(),r=G(!1),t=d=>{const s=d.length;return new Array(s).fill("*").join("")},i=()=>{r.value=!r.value};return()=>!a.orderInfo||!oe(a.orderInfo.pay_kind)||a.orderInfo.payment_type!==pe.sim?null:e("ul",{class:[l.list,U.sim]},[e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.combination.cardNo")]),e("span",{class:U.center},[a.orderInfo.cardNumber,e(_,{class:l["btn-copy"],text:a.orderInfo.cardNumber},null)])]),e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.combination.cardPass"),e(x,{onClick:i,src:r.value?"/lobby_asset/common/web/common/comm_icon_show.svg":"/lobby_asset/common/web/common/comm_icon_hide.svg",class:[U.icon,r.value?U.show:U.hidden]},null)]),e("span",null,[r.value?a.orderInfo.cardPassword:t(a.orderInfo.cardPassword),e(_,{class:l["btn-copy"],text:a.orderInfo.cardPassword},null)])]),e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.combination.networkMerch")]),e("span",{class:U.center},[a.orderInfo.networkMerch,e(_,{class:l["btn-copy"],text:a.orderInfo.networkMerch},null)])])])}}),ra="_icon_f92i7_24",ta="_countdown_f92i7_46",sa="_amount_f92i7_52",y={"status-container":"_status-container_f92i7_17",icon:ra,"state-pay-text":"_state-pay-text_f92i7_38","status-name":"_status-name_f92i7_43","countdown-container":"_countdown-container_f92i7_46",countdown:ta,amount:sa,"btn-copy":"_btn-copy_f92i7_58","exchange-area":"_exchange-area_f92i7_63","game-rateexchange-area":"_game-rateexchange-area_f92i7_67","bg-warning":"_bg-warning_f92i7_70","bg-success":"_bg-success_f92i7_73","bg-failed":"_bg-failed_f92i7_76","color-warning":"_color-warning_f92i7_79","color-success":"_color-success_f92i7_82","color-failed":"_color-failed_f92i7_85"},ca=w({setup(){const{t:a}=h(),o=g(),r=f(()=>{var c,m;const n=(c=o.orderInfo)!=null&&c.status?se[(m=o.orderInfo)==null?void 0:m.status]:void 0;return n!=null?n:se[I.wait]}),t=f(()=>{var c;const n=(c=o.orderInfo)==null?void 0:c.status;return n===I.success?{bg:y["bg-success"],color:y["color-success"]}:n===I.failed||n===I.timeout||n===I.cancel?{bg:y["bg-failed"],color:y["color-failed"]}:{bg:y["bg-warning"],color:y["color-warning"]}}),i=f(()=>{var n,c,m;return C((c=(n=o.orderInfo)==null?void 0:n.channelAmount)!=null?c:"0",{code:(m=o.orderInfo)==null?void 0:m.payCurrency,sign:"auto",toFixedType:"currency"}).toString()}),d=()=>{var b,v,p,N,P,T;if(!o.orderInfo)return null;const n=ke(o.orderInfo.memberCurrency),c=(n==null?void 0:n.gameRate)!==1,m=o.orderInfo.payCurrency!==(n==null?void 0:n.marketCurrencyCode)&&!!o.orderInfo.exchangeRate&&o.orderInfo.exchangeRate!==1,u=(b=o.orderInfo)!=null&&b.currencyRate?"".concat(a("lobby.modal.pay.rate"),"  ").concat((v=o.orderInfo)==null?void 0:v.payCurrencySign,"1:").concat(C((p=o.orderInfo)==null?void 0:p.exchangeRate,{code:(N=o.orderInfo)==null?void 0:N.memberCurrency,sign:"auto",toFixedType:"rate"}).toString()," ,"):null;if(!c&&m)return e("div",{class:y["exchange-area"]},[u,R(" "),a("lobby.modal.pay.title2"),e("span",{class:y["color-warning"]},["".concat(n.currencySign).concat(C(o.orderInfo.amount,{code:o.orderInfo.memberCurrency,toFixedType:"currency"}).toString())])]);if(c&&!m)return e("div",{class:y["game-rateexchange-area"]},[ie((P=n==null?void 0:n.currencySign)!=null?P:"CNY",n==null?void 0:n.gameRate),R(",")," ",a("lobby.modal.pay.title2"),e("span",{class:y["color-warning"]},[C(o.orderInfo.amount,{code:o.orderInfo.memberCurrency,toFixedType:"currency"}).toString()])]);if(c&&m){const F=o.orderInfo.memberCurrency==="VND";return e("div",{class:y["game-rateexchange-area"]},[!!Number(o.orderInfo.exchangeRate)&&e("p",null,[u,R(" ≈"),F?null:n==null?void 0:n.currencySign,C(o.orderInfo.channelAmount,{code:o.orderInfo.memberCurrency,toFixedType:"currency"}).times(o.orderInfo.exchangeRate).toString(),F?n==null?void 0:n.currencySign:null]),e("p",null,[ie((T=n==null?void 0:n.currencySign)!=null?T:"CNY",n==null?void 0:n.gameRate),",",R(" "),a("lobby.modal.pay.title2"),e("span",{class:y["color-warning"]},[C(o.orderInfo.amount,{code:o.orderInfo.memberCurrency,toFixedType:"currency"}).toString()])])])}return null},s=f(()=>{var n;return o.status.countdownText&&((n=o.orderInfo)==null?void 0:n.status)===I.wait&&o.orderInfo.pay_kind===q.transfer});return()=>{var n,c;return o.orderInfo?e("div",{class:y["status-container"]},[e("div",{class:[y.icon,t.value.bg]},[e(x,{src:r.value},null)]),e("div",{class:y["state-pay-text"]},[e("p",{class:[y["status-name"],t.value.color]},[(n=o.orderInfo)==null?void 0:n.status_name]),s.value&&e("p",{class:y["countdown-container"]},[R("（"),e(Oe,{keypath:"lobby.modal.pay.details.countdownText",tag:"span",scope:"global"},{time:e("span",{class:y.countdown},[o.status.countdownText,R("s")])}),R("）")])]),e("p",{class:[y.amount]},[e(ve,{tag:"span",html:i.value},null),e(_,{class:y["btn-copy"],text:(c=o.orderInfo)==null?void 0:c.channelAmount},null)]),d()]):null}}}),ia="_lable_m78ts_17",da="_required_m78ts_17",B={lable:ia,required:da,"upload-container":"_upload-container_m78ts_23","upload-tips":"_upload-tips_m78ts_40"};function ua(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!ae(a)}const pa=w({setup(){const{t:a}=h(),o=g(),r=f(()=>{var s;return(s=o.orderInfo)==null?void 0:s.transferCertificateSwitch}),t=f(()=>r.value!==M.close),i=G(),d="certificate-input-"+Date.now();return()=>{var n;let s;return t.value?e(ee,null,[e("p",{class:B.lable},[r.value===z.required&&e("span",{class:B.required},[R("*")]),a("lobby.modal.pay.details.uploadTransferCertificate")]),(n=o.orderInfo)!=null&&n.transferCertificate?e(x,{src:o.orderInfo.transferCertificate},null):e("div",{class:B["upload-container"]},[e(Ue,{ref:i,buttonCloseVisible:!1,limit:1,inputId:d,maxImageSize:5,onChange:c=>{o.certificateFiles=c}},null),e("div",{class:B["upload-tips"]},[e("div",{class:B.remark,id:V.certificate},[e("p",null,[o.certificateFiles.length>0?a("lobby.modal.pay.details.uploadTransferCertificateRemark4"):a("lobby.modal.pay.details.uploadTransferCertificateRemark1")]),e("p",null,[a("lobby.modal.pay.details.uploadTransferCertificateRemark2")]),!o.certificateFiles.length&&e("p",null,[a("lobby.modal.pay.details.uploadTransferCertificateRemark3")])])," ",e("label",{for:d},[o.certificateFiles.length>0&&e(X,{onClick:()=>{i.value&&i.value.clear()}},ua(s=a("lobby.finance.withdraw.add.retry"))?s:{default:()=>[s]})])])])]):null}}}),fa="_usdtRemarkArea_1jp53_17",ma={usdtRemarkArea:fa},ba=w({setup(){const{t:a}=h(),o=g(),r=f(()=>{var t;return((t=o.orderInfo)==null?void 0:t.templateType)===me.crypto});return()=>r.value?e("ul",{class:ma.usdtRemarkArea},[e("li",null,[a("lobby.modal.pay.details.usdtRemark1")]),e("li",null,[a("lobby.modal.pay.details.usdtRemark2")])]):null}}),ya="_realname_ltgxd_17",_a="_title_ltgxd_17",Ia="_icon_ltgxd_21",ga="_input_ltgxd_24",H={realname:ya,title:_a,icon:Ia,input:ga,"realname-text-bold":"_realname-text-bold_ltgxd_31"},ha=w({name:"recharge-form-realname",setup(){const{t:a}=h(),o=g(),r=Ce(),t=f(()=>{var s,n;return(n=(s=o.orderInfo)==null?void 0:s.realNameSwitch)!=null?n:M.close}),i=f(()=>a(t.value===Y.autoFillReadonly?"lobby.modal.pay.realNameFreezePlaceholder":"lobby.modal.pay.realNamePlaceholder")),d=s=>{var n;if(((n=r.systemInfos)==null?void 0:n.realNameMustUppercase)===M.open)s=s.replace(/[^a-zA-Z'‘’.·,\s]/g,"").toUpperCase();else{const c=/[`0-9《》%+\-_!$^()=:;[\]<>/~！@#￥…&*?（）—|{}【】"“”；：。，、？]/g;s=s.replace(c,"")}o.formModel.name=s.replace(/\s(\s+)/,c=>c[0]).trim()};return()=>t.value===M.close?null:e(Q,{name:"realName",class:H.realname,validateTrigger:"onBlur",required:!0},{default:()=>[e("div",{class:l["input-content"]},[e("p",{class:l.tips},[a("lobby.modal.pay.realNameRemark2")]),e(Z,{class:H.input,id:V.realname,value:o.formModel.name,"onUpdate:value":s=>o.formModel.name=s,onChange:d,maxlength:50,placeholder:i.value,onBlur:()=>{o.formModel.name=o.formModel.name.trim()},disabled:t.value===Y.autoFillReadonly,clearable:t.value!==Y.autoFillReadonly},{prefix:()=>e(x,{class:H.icon,src:"/lobby_asset/common/web/common/input_icon_zsxm1.svg"},null)})])]})}}),wa=w({setup(){const{t:a}=h(),o=g(),r=f(()=>{var i,d;return((i=o.orderInfo)==null?void 0:i.remarkSwitch)!==M.close&&((d=o.orderInfo)==null?void 0:d.status)===I.wait}),t=i=>{o.formModel.payRemark=i.substring(0,100).replace(/\s(\s+)/,d=>d[0]).trim()};return()=>r.value?e(Q,{name:"payRemark",required:!0,validateTrigger:"onBlur"},{default:()=>[e("div",{class:l["input-content"]},[e("p",{class:l.tips},[a("lobby.modal.pay.details.transferRemkTip")]),e(Z,{id:V.remark,value:o.formModel.payRemark,"onUpdate:value":i=>o.formModel.payRemark=i,onChange:t,clearable:!0,placeholder:a("lobby.modal.pay.details.transferRemkPlaceholder")},{prefix:()=>e(x,{class:l.icon,src:"/lobby_asset/common/web/common/input_icon_bzbh.svg"},null)})])]}):null}}),va="_qrcode_1r0sl_17",ka="_payIcon_1r0sl_21",J={qrcode:va,payIcon:ka};function de(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!ae(a)}const Ca=w({setup(){const a=g(),{t:o}=h(),r=f(()=>{var u;return((u=a.orderInfo)==null?void 0:u.templateType)===me.crypto}),t=f(()=>{var u;return((u=a.orderInfo)==null?void 0:u.payicon)===String(te.pix)}),i=f(()=>{var u;return((u=a.orderInfo)==null?void 0:u.payicon)===String(te.yh)}),d=f(()=>{var u;return((u=a.orderInfo)==null?void 0:u.bank_code)==="CNPJ"}),s=f(()=>{var u;return((u=a.orderInfo)==null?void 0:u.payCurrency)==="PEN"}),n=f(()=>{var u,b,v,p;return r.value?((u=a.orderInfo)==null?void 0:u.icon_url)||xe[((b=a.orderInfo)==null?void 0:b.payCurrency)||"BTC"]:Re(Number((p=(v=a.orderInfo)==null?void 0:v.payicon)!=null?p:0))}),c=f(()=>{var u,b;return(b=(u=a.orderInfo)==null?void 0:u.channelExtendValue)!=null?b:{}}),m=u=>{if(!u)return;const b=Me(u,{_t:Date.now()});Pe.saveAs(b,o("lobby.modal.pay.details.qrCode")+".png"),O({type:"success",message:o("lobby.modal.pay.downloadQrcodeSuccessTips")})};return()=>{var v;let u,b;return a.orderInfo?e("ul",{class:l.list},[!r.value&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.name")]),e("span",{class:[l.info,l.bold]},[a.orderInfo.bank_user,e(_,{class:l["btn-copy"],text:a.orderInfo.bank_user},null)])]),t.value&&a.orderInfo.extendValue&&e("li",null,[e("span",{class:l.label},[o(d.value?"lobby.modal.pay.details.cnpj":"lobby.modal.pay.details.cpf")]),e("span",{class:l.info},[d.value?j(a.orderInfo.bank_addr,"2.3.3/4-2"):j(a.orderInfo.extendValue,"3.3.3-2"),e(_,{class:l["btn-copy"],text:a.orderInfo.extendValue},null)])]),!r.value&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.no")]),e("span",{class:[l.info,l.bold]},[t.value&&(d.value?j(a.orderInfo.bank_no,"2.3.3/4-2"):j(a.orderInfo.bank_no,"3.3.3-2")),!t.value&&a.orderInfo.bank_no,e(_,{class:l["btn-copy"],text:a.orderInfo.bank_no},null)])]),s.value&&!!c.value.cardIdType&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.cardIdType")]),e("span",{class:l.info},[c.value.cardIdType,e(_,{class:l["btn-copy"],text:c.value.cardIdType},null)])]),s.value&&!!c.value.cardId&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.cardId")]),e("span",{class:l.info},[c.value.cardId,e(_,{class:l["btn-copy"],text:c.value.cardId},null)])]),s.value&&!!c.value.bankType&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.accountType")]),e("span",{class:l.info},[c.value.bankType,e(_,{class:l["btn-copy"],text:c.value.bankType},null)])]),t.value&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.accountType")]),e("span",{class:l.info},[a.orderInfo.bank_code])]),!r.value&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.bankName")]),e("span",{class:l.info},[e(x,{class:l.icon,src:(v=a.orderInfo.icon_url)!=null?v:n.value},null),a.orderInfo.bank_name,e(_,{class:l["btn-copy"],text:a.orderInfo.bank_name},null)])]),i.value&&a.orderInfo.extendName&&a.orderInfo.extendValue&&e("li",null,[e("span",{class:l.label},[a.orderInfo.extendName]),e("span",{class:l.info},[a.orderInfo.extendValue,e(_,{class:l["btn-copy"],text:a.orderInfo.extendValue},null)])]),e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.method")]),e("span",{class:l.info},[r.value&&e(x,{class:J.payIcon,src:n.value},null),a.orderInfo.payment_name])]),!r.value&&a.orderInfo.qrcode_url&&e("li",{class:l.qrcodeWrapper},[e("span",{class:l.label},[o("lobby.modal.pay.details.qrCode")]),e(x,{class:J.qrcode,onClick:()=>{var p;m((p=a.orderInfo)==null?void 0:p.qrcode_url)},src:a.orderInfo.qrcode_url},null),e("div",{class:l.info},[e(X,{size:"small",type:"primary",plain:!0,clearBackground:!0,onClick:()=>{var p;m((p=a.orderInfo)==null?void 0:p.qrcode_url)}},de(u=o("lobby.modal.pay.details.downloadQRCode"))?u:{default:()=>[u]})])]),r.value&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.usdtType")]),e("span",{class:l.info},[a.orderInfo.payCurrency])]),r.value&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.proto")]),e("span",{class:l.info},[a.orderInfo.cryptoProtocol])]),r.value&&e("li",{class:l.addrWrapper},[e("span",{class:l.label},[o("lobby.modal.pay.details.address")]),e("span",{class:l.info},[a.orderInfo.bank_no,e(_,{class:l["btn-copy"],text:a.orderInfo.bank_no},null)])]),r.value&&a.orderInfo.bank_no&&a.orderInfo.qrcode_url&&e("li",{class:l.qrcodeWrapper},[e("span",{class:l.label},[o("lobby.modal.pay.details.qrCode")]),e("div",null,[e(x,{class:J.qrcode,src:a.orderInfo.qrcode_url,onClick:()=>{var p;m((p=a.orderInfo)==null?void 0:p.qrcode_url)}},null)]),e("div",{class:l.info},[e(X,{size:"small",type:"primary",plain:!0,clearBackground:!0,onClick:()=>{var p;m((p=a.orderInfo)==null?void 0:p.qrcode_url)}},de(b=o("lobby.modal.pay.details.downloadQRCode"))?b:{default:()=>[b]})])]),s.value&&!!a.orderInfo.bank_addr&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.CCINO")]),e("span",{class:l.info},[a.orderInfo.bank_addr,e(_,{class:l["btn-copy"],text:a.orderInfo.bank_addr},null)])]),e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.createTime")]),e("span",null,[K(a.orderInfo.createtime)])]),e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.orderNo")]),e("span",{class:l.info},[a.orderInfo.order_no,e(_,{class:l["btn-copy"],text:a.orderInfo.order_no},null)])]),a.orderInfo.postscript&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.transferRemark")]),e("span",{class:l.info},[a.orderInfo.postscript,e(_,{class:l["btn-copy"],text:a.orderInfo.postscript},null)])]),a.orderInfo.frontRemark&&e("li",null,[e("span",{class:l.label},[o("lobby.modal.pay.details.frontRemark")]),e("span",{class:[l.info,l["flex-start"]]},[a.orderInfo.frontRemark,e(_,{class:l["btn-copy"],text:a.orderInfo.frontRemark},null)])]),a.orderInfo.transferCertificate&&e("li",{class:l.transferCertificate},[e("p",{class:l.label},[o("lobby.modal.pay.details.transferCertificate")]),e("img",{src:a.orderInfo.transferCertificate},null)])]):null}}}),xa=w({name:"recharge-form-utr",setup(){const{t:a}=h(),o=g(),r=f(()=>{var n;const d=(n=o.orderInfo)==null?void 0:n.utrSwitch,s=d!==M.close;return d===S.openLast4||d===S.requiredLast4?{label:a("lobby.modal.pay.details.UTRRemarkLast4"),placeholder:a("lobby.modal.pay.details.UTRPlaceholderLast4"),maxLen:4,visible:s}:d===S.openLast6||d===S.requiredLast6?{label:a("lobby.modal.pay.details.UTRRemarkLast6"),placeholder:a("lobby.modal.pay.details.UTRPlaceholderLast6"),maxLen:6,visible:s}:{label:a("lobby.modal.pay.details.UTRRemark"),placeholder:a("lobby.modal.pay.details.UTRPlaceholder"),maxLen:100,visible:s}}),t=f(()=>{var s,n;const d=[S.required,S.requiredLast4,S.requiredLast6];return!!((s=o.orderInfo)!=null&&s.utrSwitch)&&d.includes((n=o.orderInfo)==null?void 0:n.utrSwitch)}),i=d=>{o.formModel.utrCode=d.replace(/[^a-zA-Z0-9]/g,"").substring(0,r.value.maxLen).replace(/\s(\s+)/,s=>s[0]).trim()};return()=>r.value.visible?e(Q,{name:"utr",required:t.value,validateTrigger:"onBlur"},{default:()=>[e("div",{class:l["input-content"]},[e("p",{class:l.tips},[r.value.label]),e(Z,{id:V.utr,value:o.formModel.utrCode,"onUpdate:value":d=>o.formModel.utrCode=d,onChange:i,clearable:!0,placeholder:r.value.placeholder},{prefix:()=>e(x,{class:l.icon,src:"/lobby_asset/common/web/common/input_icon_bzbh.svg"},null)})])]}):null}}),Ra=xa,Ta=w({name:"recharge-detail-form-zfb",setup(){const{t:a}=h(),o=g(),r=f(()=>{var t,i;return((t=o.orderInfo)==null?void 0:t.payment_id)===Te.ALIPAY_TRANSFER&&((i=o.orderInfo)==null?void 0:i.status)===I.wait});return()=>r.value?e(Q,{name:"userRemark",validateTrigger:"onBlur",label:a("lobby.modal.pay.details.transferRemarkZFBPayTip")},{default:()=>[e(Z,{value:o.formModel.userRemark,"onUpdate:value":t=>o.formModel.userRemark=t,clearable:!0,placeholder:a("lobby.modal.pay.details.transferRemarkZFBPayPlaceholder")},{prefix:()=>e(x,{class:l.icon,src:"/lobby_asset/common/web/common/input_icon_bzbh.svg"},null)})]}):null}}),Sa="_realNameForm_l9u3z_17",Fa={realNameForm:Sa},qa=w({setup(){const a=g();return()=>!a.orderInfo||a.orderInfo.pay_kind!==q.transfer?null:e(ee,null,[e(Ca,null,null),e(ha,{class:Fa.realNameForm},null),e(Ra,null,null),e(wa,null,null),e(Ta,null,null),e(pa,null,null),e(ba,null,null)])}}),Ea=w({setup(){const{t:a}=h(),o=g(),{onDialogOpen:r,openOptions:t,visible:i}=Se("rechargeDetail");r(()=>{var s,n,c;o.fetchOrderInfo((s=t.value)==null?void 0:s.orderNo),o.status.btnCountdown=(c=(n=t.value)==null?void 0:n.btnCountdown)!=null?c:0,o.status.btnCountdown&&o.btnCountdown()});const d=f(()=>o.status.loading?"nested-loading":o.status.fetchError?"retry":null);return()=>e(qe,{class:l["recharge-detail"],modelValue:i.value,"onUpdate:modelValue":s=>i.value=s,onClose:()=>{o.closeModal()},title:a("lobby.modal.pay.details.title")},{default:()=>[e(Fe,{type:d.value,onRetry:()=>{var s;return o.fetchOrderInfo((s=t.value)==null?void 0:s.orderNo)}},{default:()=>[e("div",{class:l.content},[e(ca,null,null),e(na,null,null),e(ea,null,null),e(Ze,null,null),e(qa,null,null)]),e(Ke,null,null)]})]})}});export{Ea as default};
//# sourceMappingURL=RechargeDetailIndex.CoZL3ZYI.js.map
