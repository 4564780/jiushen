import{aS as T,R as M,q as w}from"./main.C8q1iJMV.js";import{l as A,r as s,O as L,p as O}from"../vendors/vendor-@vue.DNlpgob2.js";const W={yAxisOnly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autoEdge:T("right"),autoEdgeTime:{type:Number}},X="_draggable_8wedj_17",P={draggable:X},[Y]=w("draggable"),B=A({name:Y,props:W,emits:["click","dragging","dragEnd","edge"],setup(n,{slots:f,emit:u}){const e=s(null),i=s(0),d=s(0),c=s(!1),g=s(),m=L(()=>{u("click")}),b=t=>{e.value&&!n.disabled&&(t.preventDefault(),t.stopPropagation(),c.value=!1,n.yAxisOnly||(i.value=t.clientX-e.value.getBoundingClientRect().left),d.value=t.clientY-e.value.getBoundingClientRect().top,document.addEventListener("mousemove",r),document.addEventListener("mouseup",v),u("dragging"))},r=t=>{e.value&&!n.disabled&&(t.preventDefault(),t.stopPropagation(),c.value=!0,n.yAxisOnly||(e.value.style.left=t.clientX-i.value+"px",e.value.style.right="auto"),e.value.style.transform="none",e.value.style.top=t.clientY-d.value+"px")},v=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",v),c.value?(x(),u("dragEnd")):m()},p=t=>{var o,a;if(e.value&&!n.disabled){t.preventDefault(),t.stopPropagation();const l=t.touches[0];n.yAxisOnly||(i.value=l.clientX-((o=e.value)==null?void 0:o.getBoundingClientRect().left)),d.value=l.clientY-((a=e.value)==null?void 0:a.getBoundingClientRect().top);const D=new Date().getTime();document.addEventListener("touchmove",y),document.addEventListener("touchend",()=>{new Date().getTime()-D<300?m():E()},{once:!0}),u("dragging")}},y=t=>{if(e.value&&!n.disabled){t.preventDefault(),t.stopPropagation();const o=t.touches[0];n.yAxisOnly||(e.value.style.left=o.clientX-i.value+"px"),e.value.style.transform="none",e.value.style.top=o.clientY-d.value+"px"}},h=t=>{e.value&&!n.disabled&&n.autoEdgeTime&&!n.yAxisOnly&&(clearTimeout(g.value),g.value=setTimeout(()=>{if(e.value){const{clientWidth:o}=document.documentElement,a=n.autoEdge==="left"?0:o-e.value.offsetWidth;e.value.style.left="".concat(a,"px"),t===void 0&&u("edge")}},t!=null?t:n.autoEdgeTime))},E=()=>{document.removeEventListener("touchmove",y),document.removeEventListener("touchend",E),x(),h(),u("dragEnd")},x=()=>{if(e.value&&!n.disabled){const t=document.documentElement.clientWidth-e.value.offsetWidth,o=document.documentElement.clientHeight-e.value.offsetHeight;let a=parseInt(e.value.style.left,10),l=parseInt(e.value.style.top,10);a=Math.min(Math.max(0,a),t),l=Math.min(Math.max(0,l),o),a+e.value.offsetWidth>=document.documentElement.clientWidth&&(a=document.documentElement.clientWidth-e.value.offsetWidth),n.yAxisOnly||(e.value.style.left=a+"px"),l&&(e.value.style.bottom="auto"),(a||l)&&(e.value.style.transform="none"),e.value.style.top=l+"px"}};return M({handleAutoEdge:h}),()=>O("div",{class:P.draggable,onMousedown:b,onTouchstart:p,ref:e},[f.default?f.default():null])}}),N=B;export{N as D};
//# sourceMappingURL=Draggable.B6hIaxCA.js.map
