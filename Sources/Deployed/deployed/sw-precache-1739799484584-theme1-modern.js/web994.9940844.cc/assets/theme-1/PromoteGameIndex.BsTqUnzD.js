import{az as d,d2 as g,d3 as l,d4 as f,d5 as y,d6 as u,d7 as I,d8 as r,I as G,q as N}from"./main.C8q1iJMV.js";import{e as _}from"../vendors/vendor-default.CjiYZF7Q.js";import{l as S,o as C,p as U}from"../vendors/vendor-@vue.DNlpgob2.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-stable.LD58Pbb3.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";const b="_loading_mdjaz_17",h={loading:b},[$]=N("promote-game"),k=S({name:$,setup(){return C(async()=>{try{const{hasLogined:a}=d(),{urlParams:o}=g(),t=l(),{SelfOperatedGameId:n,languageCode:i}=t,s=o==null?void 0:o.cid,m=o==null?void 0:o.currency;if(!a&&n&&s&&m){const[c,e]=await _(f.apiGetGameUrl({gameid:Number(n),platfromid:y.WG,user_type:u.Demo,promoteInfo:JSON.stringify({...t,regUrl:encodeURIComponent("".concat(location.origin,"?type=4&cid=").concat(s,"&languageCode=").concat(i,"&currency=").concat(m))})}));if(!c&&e){const p={gameId:e==null?void 0:e.gameid,platformId:e==null?void 0:e.platfromid,platformName:"",isExternalLink:0,gameName:e==null?void 0:e.gameName};I(p,e)}}else r()}catch(a){r()}}),()=>U(G,{src:"/lobby_asset/common/web/animated/apng_loading_game.png",class:h.loading},null)}});export{k as default};
//# sourceMappingURL=PromoteGameIndex.BsTqUnzD.js.map
