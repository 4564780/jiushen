import{E as N,a as S,b as T}from"./enum.CcXhH6KG.js";import{bj as M,bk as E,bl as U,bm as k,bn as z,bo as G}from"./main.C8q1iJMV.js";import{d as O}from"../vendors/vendor-stable.LD58Pbb3.js";import{e as c}from"../vendors/vendor-default.CjiYZF7Q.js";import{c as W}from"../vendors/vendor-lodash.BYdGDldS.js";import{r as o,f as P}from"../vendors/vendor-@vue.DNlpgob2.js";const J=O("claim",()=>{const d=o(!1),A=o(N.CLAIM_APPLICATION),l=o(),u=o(0),m=o(),p=o(),i=o(),f=o(),C=o({}),I=async()=>{var e;const[r,t]=await c(M());r||(l.value=t.data.data,d.value=((e=l.value)==null?void 0:e.claimSwitch)===S.ON)},g=async()=>{var e,a;const[r,t]=await c(E());r||(u.value=(a=(e=t.data.data)==null?void 0:e.unreadCnt)!=null?a:0)},h=async()=>{const[r,t]=await c(U());r||(m.value=t.data.data)},D=async()=>{var e,a;const[r,t]=await c(k());r||(p.value=(a=(e=t.data.data)==null?void 0:e.accounts)!=null?a:[])},L=async r=>{var b,y,v,w;const t=r.claimType===T.MANUAL_DEDUCTION?z:G,[e,a]=await c(t(r));if(e)return;const s=((y=(b=a==null?void 0:a.data)==null?void 0:b.data)==null?void 0:y.records)||((w=(v=a==null?void 0:a.data)==null?void 0:v.data)==null?void 0:w.list)||[];i.value=s.map(n=>({createTime:n.createTime,money:n.money||n.amount,orderNo:n.orderNo||n.recordId,bizId:n.bizId,currencyCode:n.currencyCode||n.currency,isChecked:!1})),f.value=W(i.value)},R=P(()=>{var t,e,a;return(a=(e=(t=i.value)==null?void 0:t.filter(s=>s.isChecked===!0))==null?void 0:e.map(s=>s.bizId||s.orderNo.toString()))!=null?a:[]});return{claimSwitch:d,tabsActive:A,guaranteeRule:l,unreadMsgCount:u,claimInfo:m,withdrawAccountList:p,abnormalRecordList:i,abnormalRecordListActive:f,orderList:R,applyClaimDraft:C,getGuaranteeRule:I,getUnreadMsgCnt:g,getClaimInfo:h,getWithdrawAccountList:D,getAbnormalRecord:L,setApplyClaimDraft:(r,t)=>{C.value[r]=t}}},{persist:{paths:["applyClaimDraft"]}});export{J as u};
//# sourceMappingURL=index.LCSohmSD.js.map
