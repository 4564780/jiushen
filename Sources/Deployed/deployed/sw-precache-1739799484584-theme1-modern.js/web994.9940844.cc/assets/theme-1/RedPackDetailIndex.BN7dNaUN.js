import{eL as w,a as $,t as D,U as M,lE as p,bq as d,lF as m,lG as h,lH as S}from"./main.C8q1iJMV.js";import{w as L,l as E,t as C,f as T,p as l,v as g}from"../vendors/vendor-@vue.DNlpgob2.js";import{P as O}from"./PublicIntroductionIndex.bUl03y0X.js";import{T as I}from"./index.SS2HDjZq.js";import"../vendors/vendor-default.CjiYZF7Q.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-stable.LD58Pbb3.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";import"./Table.CBQduS50.js";const V=k=>{const e=w();return L(()=>k,y=>{!isNaN(Number(y.value))&&y.value&&e.getEventItemDetail(y.value)},{immediate:!0}),{...e}},z="_main_1dzet_17",A="_content_1dzet_20",B="_limitTip_1dzet_27",G="_table_1dzet_38",H="_receiveRuleTip_1dzet_41",b={main:z,content:A,limitTip:B,table:G,receiveRuleTip:H},[Y]=M("event-item-modes-red-pack-detail"),re=E({name:Y,props:{eventId:Number},setup(k){const{t:e}=$(),{eventId:y}=C(k),{eventItemData:i}=V(y),r=T(()=>i!=null&&i.value.activeData&&typeof(i==null?void 0:i.value.activeData)=="string"?JSON.parse(i==null?void 0:i.value.activeData):{}),_=()=>r.value.red_pack_type===p.Send?(r.value.sendRuleList?r.value.sendRuleList.sort((t,a)=>Number(t.ruleValue)-Number(a.ruleValue)):[]).map(t=>({limit_value:t.ruleValue,limit_num:"".concat(d(t.minShowAmount,2),"-").concat(d(t.maxShowAmount,2))})):r.value.limit_list?r.value.limit_list.sort((t,a)=>Number(t.limit_value)-Number(a.limit_value)):[],R=T(()=>{const t=[{title:e("lobby.reward.vip.table.dayDeposit"),key:"limit_value",customRender:n=>{var c;return l("span",null,[g("≥"),(c=d(n))==null?void 0:c.replace(/(.|,)00$/,"")])}},{title:e("lobby.event.redPocket.grabPocketAwarMaxLimit"),key:"limit_num",customRender:n=>l("span",{class:"limit_top"},[e("lobby.event.redPocket.times",{x:n})])}],a=[{title:e("lobby.reward.vip.table.dayBet"),key:"limit_value",customRender:n=>{var c;return l("span",null,[g("≥"),(c=d(n))==null?void 0:c.replace(/(.|,)00$/,"")])}},{title:e("lobby.event.redPocket.grabPocketAwarMaxLimit"),key:"limit_num",customRender:n=>l("span",{class:"limit_top"},[e("lobby.event.redPocket.times",{x:n})])}],{red_pack_type:o,limit_type:u,rule_type:v}=r.value;let s="";switch(v){case m.SendTodayRecharge:s=e("lobby.event.redPocket.todayPay");break;case m.SendTodayDaMa:s=e("lobby.event.redPocket.todayBet");break;case m.SendTodayMaxRecharge:s=e("lobby.event.redPocket.yesterdayOnePay");break;case m.SendTodayMaxDaMa:s=e("lobby.event.redPocket.yesterdayOneBet");break;case m.SendYesterdayRecharge:s=e("lobby.event.redPocket.yesterdayPay");break;case m.SendYesterdayMaxDaMa:s=e("lobby.event.redPocket.yesterdayBet");break;case m.SendYesterdayMaxRecharge:s=e("lobby.event.redPocket.yesterdayLoss");break}const N=[{title:s,key:"limit_value",customRender:n=>{var c;return l("span",null,[g("≥"),(c=d(n))==null?void 0:c.replace(/(.|,)00$/,"")])}},{title:e("lobby.event.redPocket.redPocketAmount"),key:"limit_num",customRender:n=>l("span",{class:"limit_num"},[n])}],P=new Map([[o===p.Grab&&u===h.RechargeOnDay,t],[o===p.Grab&&u===h.CodeOnDay,a],[o===p.Send,N]]).get(!0);return P!=null?P:[]}),x=T(()=>{var u,v;const{red_pack_type:t,receive_rule:a}=r.value;let o="";return a===S.RechargeOnDay&&t!==p.Send&&(o=e("lobby.event.redPocket.payTip",{x:"<span>".concat(r.value.receive_limit,"</span>"),y:"<span>".concat((u=d(r.value.totalPay))==null?void 0:u.replace(/(.|,)00$/,""),"</span>")})),a===S.CodeOnDay&&t!==p.Send&&(o=e("lobby.event.redPocket.betTip",{x:"<span>".concat(r.value.receive_limit,"</span>"),y:"<span>".concat((v=d(r.value.totalBet))==null?void 0:v.replace(/(.|,)00$/,""),"</span>")})),{receiveRuleTip:o}}),f=t=>{var a;return l(I,{data:(a=t==null?void 0:t.map((o,u)=>({...o,rowKey:u})))!=null?a:[],class:[b.table],columns:R.value},null)};return()=>{var t,a;return l("div",{class:{[b.main]:!0,"red-pack-wrap":!0}},[x.value.receiveRuleTip&&l(D,{tag:"div",class:b.receiveRuleTip,html:x.value.receiveRuleTip},null),_().length>0&&((t=R.value)==null?void 0:t.length)>0&&l("div",{class:b.content},[_().length>0&&((a=R.value)==null?void 0:a.length)>0&&f(_())]),l(O,{eventData:i.value},null)])}}});export{re as default};
//# sourceMappingURL=RedPackDetailIndex.BN7dNaUN.js.map
