import{u as B}from"./index.B8UsFylu.js";import{u as N,q as _,d4 as V,a as k,fB as M,ad as z,ae as O,I,aP as U,a1 as D,aa as S,ez as F,L as j}from"./main.C8q1iJMV.js";import{b as A,I as H}from"../vendors/vendor-stable.LD58Pbb3.js";import{l as C,f as g,p as e,r as R,F as J,y as K,z as Q,w as $,o as P}from"../vendors/vendor-@vue.DNlpgob2.js";import{c as G}from"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-default.CjiYZF7Q.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";const W="_betRulesText_d5qyv_17",X="_title_d5qyv_20",Y="_paragraph_d5qyv_25",Z="_subheading_d5qyv_30",E="_btn_d5qyv_33",m={betRulesText:W,title:X,paragraph:Y,subheading:Z,btn:E},[ee]=_("pages-bet-rules-text"),te=C({name:ee,setup(){const{t:a}=A(),c=B(),s=g(()=>c.state.validBetConfig),{open:o}=N(),n=()=>{o("sportBetRules",{openType:"overlay"})};return()=>{var d,u,i,t,r,p,f,h,l;return e("div",{class:m.betRulesText},[e("div",{class:m.title},[a("lobby.modal.betRules.sectionTitle1")]),e("p",{class:m.paragraph},[a("lobby.modal.betRules.paragraphContent1")]),e("p",{class:m.paragraph},[e("span",{class:m.subheading},[a("lobby.modal.betRules.sectionTitle2")]),a("lobby.modal.betRules.paragraphContent2")]),e("p",{class:m.paragraph},[e("span",{class:m.subheading},[a("lobby.modal.betRules.sectionTitle3")]),a("lobby.modal.betRules.paragraphContent3")]),e("p",{class:m.paragraph},[e("span",{class:m.subheading},[a("lobby.modal.betRules.sectionTitle4")]),e(H,{keypath:"lobby.modal.betRules.paragraphContent4",tag:"span",scope:"global"},{text:()=>e("span",{class:m.btn,onClick:n},[a("lobby.modal.betRules.sportsBettingRules")])})]),e("div",{class:m.title},[a("lobby.modal.betRules.sectionTitle5")]),e("p",{class:m.paragraph},[a("lobby.modal.betRules.paragraphContent5",{num1:(d=s.value)==null?void 0:d.p,num2:(u=s.value)==null?void 0:u.o,num3:(i=s.value)==null?void 0:i.q,num4:(t=s.value)==null?void 0:t.r,num5:(r=s.value)==null?void 0:r.s,num6:(p=s.value)==null?void 0:p.t,num7:(f=s.value)==null?void 0:f.u,num8:(h=s.value)==null?void 0:h.v,num9:(l=s.value)==null?void 0:l.y})]),e("div",{class:m.title},[a("lobby.modal.betRules.sectionTitle6")]),e("p",{class:m.paragraph},[a("lobby.modal.betRules.paragraphContent6")]),e("div",{class:m.title},[a("lobby.modal.betRules.sectionTitle7")])])}}});function T(){const a=B(),c=R(""),s=g(()=>a.state.gameList.filter(t=>t.isChecked).map(t=>t.gameCategoryId)),o=g(()=>a.state.platformList.filter(t=>t.isChecked).map(t=>t.platformId)),n=g(()=>{var t,r;return(r=(t=a.state.validBetGamesList)==null?void 0:t.filter(p=>s.value.includes(p.gameCategoryId)&&o.value.includes(p.platformId)))!=null?r:[]}),d=async()=>{var r,p;let t;if(c.value){const f=await V.searchGameList(c.value);s.value.length||o.value.length?t=n.value.filter(h=>f.find(l=>l.gameId===h.gameId)):t=(p=(r=a.state.validBetGamesList)==null?void 0:r.filter(h=>f.find(l=>l.gameId===h.gameId)))!=null?p:[]}else s.value.length||o.value.length||!a.state.gameList.length?(!a.state.gameList.length&&await a.getValidBetSetting(),t=n.value):t=[];return t},u=g(()=>a.state.gameList.filter(t=>t.isChecked).map(t=>t.gameCategoryName).join("/")),i=g(()=>{var r;const t=a.state.platformList.filter(p=>p.isChecked);return((r=t[0])==null?void 0:r.platformId)==="-1"?t[0].platformName:t.map(p=>p.platformName).join("/")});return{categoryIds:s,searchValue:c,queryGameList:d,checkedCategoryNames:u,checkedPlatformNames:i}}const x={"game-search":"_game-search_1478z_17","icon-clear":"_icon-clear_1478z_21","icon-search":"_icon-search_1478z_25"},[ae]=_("pages-bet-rules-search"),se=C({name:ae,props:{value:{type:String,default:""}},emits:["update:value","searchClick"],setup(a,{emit:c}){const{t:s}=k(),o=g({get(){return a.value},set(n){c("update:value",n)}});return()=>e("div",{class:x["game-search"]},[e(M,{value:o.value,"onUpdate:value":n=>o.value=n,showSearch:!0,placeholder:s("lobby.modal.betRules.searchGame"),onBlur:()=>{c("searchClick",o.value)}},{suffix:()=>e(J,null,[K(e(z,{onClick:()=>{o.value=""},class:x["icon-clear"],name:O},null),[[Q,!!o.value]]),e(I,{onClick:()=>{c("searchClick",o.value)},class:x["icon-search"],src:"/lobby_asset/common/web/common/comm_icon_ss.svg"},null)])})])}}),le=se;var w=(a=>(a[a.GameType=0]="GameType",a[a.Platform=1]="Platform",a))(w||{});const oe={show:U,type:{type:Number,default:0}},ne="_selectModal_16ty1_17",ce="_listBox_16ty1_32",re="_listItem_16ty1_38",L={selectModal:ne,listBox:ce,listItem:re},[ue]=_("pages-base-select-modal"),me=C({name:ue,props:oe,emits:["update:show","confirm"],setup(a,{emit:c}){const{t:s}=k(),o=B(),n=R([]),{categoryIds:d}=T(),u=l=>c("update:show",l),i=()=>{u(!1)},t=g(()=>a.type===w.GameType);$(()=>a.show,l=>{l&&(t.value?n.value=G(o.state.gameList):n.value=G(o.state.platformList))},{immediate:!0});const r=g(()=>t.value?s("lobby.modal.betRules.gameTypes"):s("lobby.modal.betRules.platform")),p=g(()=>n.value.filter(l=>t.value?!0:d.value.includes(l.gameCategoryId)||l.platformId==="-1")),f=()=>{t.value?o.state.gameList=n.value:o.state.platformList=n.value,i(),c("confirm")},h=l=>{l.isChecked=!l.isChecked,l[t.value?"gameCategoryId":"platformId"]==="-1"?n.value.forEach((b,q)=>{q!==0&&(b.isChecked=l.isChecked)}):l.isChecked?n.value.find(b=>b.isChecked&&b[t.value?"gameCategoryId":"platformId"]!=="-1")&&(n.value[0].isChecked=!0):n.value[0].isChecked=!1};return()=>e(S,{class:L.selectModal,title:r.value,"show-cancel-button":!0,show:a.show,"onUpdate:show":l=>a.show=l,overlay:!0,closeOnClickOverlay:!1,showConfirmButton:!0,showCloseButton:!1,cancelButtonClearBackground:!0,onClose:i,onCancel:i,onConfirm:f,teleport:"body"},{default:()=>[e("div",{class:L.listBox},[p.value.map(l=>e("div",{class:L.listItem},[e("span",null,[l[t.value?"gameCategoryName":"platformName"]]),e(D,{class:L.checked,modelValue:l.isChecked,"onUpdate:modelValue":b=>l.isChecked=b,onClick:b=>{b.stopPropagation(),b.preventDefault(),h(l)}},null)]))])]})}}),ie="_selectBox_18t25_17",pe="_selectItem_18t25_22",de="_icon_18t25_41",ge="_title_18t25_45",y={selectBox:ie,selectItem:pe,icon:de,title:ge},[be]=_("pages-type-select"),he=C({name:be,emits:["confirm"],setup(a,{emit:c}){const{t:s}=k(),{checkedCategoryNames:o,checkedPlatformNames:n}=T(),d=R(!1),u=()=>{d.value=!0},i=R(),t=r=>{i.value=r,u()};return()=>e("div",null,[e("div",{class:y.selectBox},[e("div",{class:y.selectItem,onClick:()=>{t(w.GameType)}},[e("span",null,[o.value||s("lobby.modal.betRules.gameCategory")]),e(I,{class:y.icon,src:"/lobby_asset/common/web/common/comm_icon_fh.svg"},null)]),e("div",{class:y.selectItem,onClick:()=>{t(w.Platform)}},[e("span",null,[n.value||s("lobby.modal.betRules.platform")]),e(I,{class:y.icon,src:"/lobby_asset/common/web/common/comm_icon_fh.svg"},null)]),e("span",{class:y.title},[s("lobby.modal.betRules.subgame")])]),e(me,{show:d.value,"onUpdate:show":r=>d.value=r,type:i.value,onConfirm:()=>c("confirm")},null)])}}),fe="_gameList_b0u6o_17",ve="_cell_b0u6o_26",ye="_name_b0u6o_34",_e="_platforms_b0u6o_37",Ce="_game_b0u6o_17",Ie="_platformLogo_b0u6o_51",Re="_gameIcon_b0u6o_55",v={gameList:fe,cell:ve,name:ye,platforms:_e,game:Ce,platformLogo:Ie,gameIcon:Re},[ke]=_("pages-bet-game-list"),Le=C({name:ke,setup(){const{t:a}=k(),c=R([]),{searchValue:s,queryGameList:o}=T(),n=async()=>{c.value=await o(),j.info(c,"gameListgameList")};P(()=>{n()}),$(()=>s.value,async()=>{s.value||(c.value=await o())});const d=u=>e("div",{class:v.cell},[e("span",{class:v.name},[u.gameCategoryName]),u.platformLogo?e(I,{class:v.platformLogo,src:u.platformLogo},null):e("span",{class:v.platforms},[a("lobby.modal.betRules.allPlatforms")]),e("div",{class:v.game},[e(I,{class:v.gameIcon,src:u.gameIcon},null),e("span",null,[u.gameName==="ALL"?a("lobby.modal.betRules.allGame"):u.gameName])])]);return()=>{var u,i;return e("div",null,[e(le,{value:s.value,"onUpdate:value":t=>s.value=t,onSearchClick:n},null),e(he,{onConfirm:n},null),e(F,{class:v.gameList,finished:!0,virtualOptions:{total:(i=(u=c.value)==null?void 0:u.length)!=null?i:0,estimateSize:"3rem"}},{default:t=>{var r;return d((r=c.value)==null?void 0:r[t==null?void 0:t.index])}})])}}}),we="_betRules_1kno6_17",Be={betRules:we},[xe]=_("pages-dialogs-bet-rules"),Ue=C({name:xe,setup(){const{dialogsStates:{betRules:a}}=N(),{t:c}=k(),s=B();return P(()=>{s.getValidBetSetting()}),()=>e(S,{class:Be.betRules,title:c("lobby.modal.betRules.title"),"show-cancel-button":!0,show:a.show,"onUpdate:show":o=>a.show=o,overlay:!0,showCancelButton:!1,closeOnClickOverlay:!1,cancelButtonClearBackground:!0},{default:()=>[e(te,null,null),e(Le,null,null)]})}});export{Ue as default};
//# sourceMappingURL=BetRulesIndex.B_HG3y2U.js.map
