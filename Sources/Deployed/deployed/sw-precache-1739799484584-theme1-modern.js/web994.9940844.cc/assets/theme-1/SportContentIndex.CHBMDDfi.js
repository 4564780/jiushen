const __vite__fileDeps=["assets/theme-1/OutrightIndex.Dlwi_aI1.js","assets/theme-1/main.C8q1iJMV.js","assets/vendors/vendor-default.CjiYZF7Q.js","assets/vendors/vendor-bignumber.BRr1dcww.js","assets/vendors/vendor-@vue.DNlpgob2.js","assets/vendors/vendor-default.D-eq1dc7.css","assets/vendors/vendor-lodash.BYdGDldS.js","assets/vendors/vendor-swiper.ZXc-sUCV.js","assets/vendors/vendor-swiper.BH51ma1P.css","assets/vendors/vendor-stable.LD58Pbb3.js","assets/vendors/vendor-@intlify.BmUtFfVu.js","assets/vendors/vendor-@sentry.EjpkRnd3.js","assets/vendors/vendor-dom-to-image.C12bjAh8.js","assets/theme-1/main.oUrzxJI4.css","assets/theme-1/index.4KOhFRoM.js","assets/theme-1/index.CAdRI9C2.css","assets/theme-1/MaintenanceIndex.42byS-yn.js","assets/theme-1/MaintenanceIndex.HmO8y-3l.css","assets/theme-1/TimeInfoIndex.CsOFrg5p.js","assets/theme-1/TimeInfoIndex.UIGx2iwG.css","assets/theme-1/ArrowPriceIndex.D_dprz8o.js","assets/theme-1/SymbolPriceIndex.DnolemMB.js","assets/theme-1/SymbolPriceIndex.tvotUK0E.css","assets/theme-1/ArrowPriceIndex.8RWSdYyb.css","assets/theme-1/OutrightIndex.CbUSXCCU.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{dT as re,dU as C,a as P,dV as p,dW as T,dX as L,dO as B,dS as ne,dY as ie,u as ce,dZ as de,dQ as ye,d_ as ve,d$ as _e,e0 as ge,e1 as fe,a5 as Se,q as x,E as te,e2 as $,I,b as ae,w as Y,e3 as he,e4 as be,e5 as ke,e6 as ue,e7 as z,S as Le,e8 as Ce,a6 as pe,e9 as Ee,dP as Ie,bt as Te,ea as Me,by as we,eb as Ke,ec as Ne,ed as le,ee as Q,ef as J,eg as Z,aA as Oe,eh as De,ei as He,dJ as Pe,ej as Be}from"./main.C8q1iJMV.js";import{M as xe}from"./MaintenanceIndex.42byS-yn.js";import{C as Ae,a as qe}from"./index.4KOhFRoM.js";import{T as Ue,F as Ge}from"./TimeInfoIndex.CsOFrg5p.js";import{A as je}from"./ArrowPriceIndex.D_dprz8o.js";import{l as A,f as h,r as M,p as e,F as ee,w as O,C as Re,G as Fe}from"../vendors/vendor-@vue.DNlpgob2.js";import{e as $e}from"../vendors/vendor-default.CjiYZF7Q.js";import{u as Ve}from"../vendors/vendor-lodash.BYdGDldS.js";const We={length:{type:Number,default:re},loading:{type:Boolean,required:!0}},Xe=l=>{const{t:n}=P();return l===C.Cricket?[{type:p.HomeMatchByCricket,defaultName:()=>n("lobby.selfoperatedGames.sports.homeMatchByCricket")},{type:p.AwayMatchByCricket,defaultName:()=>n("lobby.selfoperatedGames.sports.awayMatchByCricket")},{type:p.MatchWinner,defaultName:()=>n("lobby.selfoperatedGames.sports.matchWinner")}]:[{type:p.Handicap,defaultName:()=>n("lobby.selfoperatedGames.sports.handicap")},{type:p.OverUnder,defaultName:()=>n("lobby.selfoperatedGames.sports.bigsmall")},{type:p.FT1X2,defaultName:()=>n("lobby.selfoperatedGames.sports.winloseequal")}]};C.Soccer,C.Basketball,C.Football,C.IceHockey,C.Badminton,C.Handball,C.Rugby,C.ESports;const Ye=l=>{const{t:n}=P();return l===C.Cricket?{[T.Home]:{[p.HomeMatchByCricket]:{selectionKey:L.Over},[p.AwayMatchByCricket]:{selectionKey:L.Over},[p.MatchWinner]:{label:()=>n("lobby.selfoperatedGames.sports.homewin"),selectionKey:L.Home}},[T.Away]:{[p.HomeMatchByCricket]:{selectionKey:L.Under},[p.AwayMatchByCricket]:{selectionKey:L.Under},[p.MatchWinner]:{label:()=>n("lobby.selfoperatedGames.sports.awaywin"),selectionKey:L.Away}},[T.Draw]:{[p.HomeMatchByCricket]:{isLive:!0},[p.AwayMatchByCricket]:{isMore:!0},[p.MatchWinner]:{}}}:{[T.Home]:{[p.Handicap]:{label:!1,selectionKey:L.Home},[p.OverUnder]:{selectionKey:L.Home},[p.FT1X2]:{selectionKey:L.XHome}},[T.Away]:{[p.Handicap]:{label:!1,selectionKey:L.Away},[p.OverUnder]:{selectionKey:L.Away},[p.FT1X2]:{selectionKey:L.XAway}},[T.Draw]:{[p.Handicap]:{isLive:!0},[p.OverUnder]:{isMore:!0},[p.FT1X2]:{selectionKey:L.Draw}}}},ze="_cur_4c404_36",Qe="_price_4c404_17",N={"price-box":"_price-box_4c404_17",cur:ze,"box-label":"_box-label_4c404_60",price:Qe,"icon-more":"_icon-more_4c404_68","icon-live":"_icon-live_4c404_72","icon-lock":"_icon-lock_4c404_76"},[Je]=x("pages-sport-content-normal-detail-price-box"),Ze=A({name:Je,props:{teamKey:{type:[String,Number],required:!0},type:{type:Number,required:!0},event:{type:Object,required:!0}},setup(l){const{t:n}=P(),b=B(),d=ne(),c=ie(),y=ce(),o=ae(),{fetchLiveStreamingUrl:E,openLiveDialog:t}=de(),{checkHallLogin:m,guideLoginAll:a}=ye(),r=h(()=>Ye(l.event.sportType)),s=h(()=>{var f,S;return{...(S=(f=l.event.marketMap)==null?void 0:f[l.type])!=null?S:{},isParlay:l.event.isParlay}}),i=h(()=>{var U,G,j,R,F;const f=r.value[l.teamKey][l.type],S=(G=(U=s.value)==null?void 0:U.selections)==null?void 0:G.find(u=>u.key===f.selectionKey),K=ve(S);return{...f,isLock:!s.value||((j=s.value)==null?void 0:j.marketStatus)!==_e.Running||K<=0,selection:{...S,price:K,eventId:(R=s.value)==null?void 0:R.eventId,marketId:(F=s.value)==null?void 0:F.marketId},price:K,balls:ge(S==null?void 0:S.point,l.type)}}),k=h(()=>d.parlayBetList.some(f=>fe(f.selection,i.value.selection))),w=M(!1),V=async()=>{if(!m()){Y.error(n("lobby.selfoperatedGames.sports.demoHasNoLive"));return}const{streamingOption:f,channelCode:S,isLive:K}=l.event;if(!K){Y.error(n("lobby.selfoperatedGames.sports.liveNotStart"));return}if(!f||!S){Y.error(n("lobby.selfoperatedGames.sports.matchHasNoLive"));return}w.value=!0,await E(l.event),w.value=!1,t()},q=async()=>{if(!w.value){if(i.value.isLive)return V();if(await a(),c.updateEventInfo(l.event),i.value.isMore){o.push({name:te.SPORT_EVENT_DETAIL,query:{eventId:l.event.eventId}});return}if(!i.value.isLock){if(b.marketKey===$.Parlay){d.doParlay({market:s.value,selection:i.value.selection});return}c.isShowingBetDialog||(c.isShowingBetDialog=!0,y.open("sportBet",{openType:"overlay",market:s.value,selection:i.value.selection}))}}},W=()=>{var S;if(i.value.isLive)return e(I,{class:N["icon-live"],src:"/lobby_asset/common/web/selfoperated-games/icon_ty_1sjb.svg",useSkeleton:!0},null);if(i.value.isMore)return e("span",{class:N["icon-more"]},[n("lobby.selfoperatedGames.sports.more")]);if(i.value.isLock)return e(I,{class:N["icon-lock"],src:"/lobby_asset/common/web/selfoperated-games/icon_ty_lock.svg",useSkeleton:!0},null);const f=i.value.label;return e(ee,null,[e("div",{class:N["box-label"]},[f===void 0?i.value.selection.keyName:f&&f()," ",i.value.balls]),e(je,{priceClass:N.price,price:i.value.price,isChange:(S=s.value)==null?void 0:S.isChange},null)])};return()=>e("div",{class:[N["price-box"],{[N.cur]:k.value}],onClick:q},[w.value?e(Se,{style:{zoom:.5}},null):W()])}}),et="_red_q7l9s_80",_={"sport-detail":"_sport-detail_q7l9s_17","detail-list":"_detail-list_q7l9s_20","list-title":"_list-title_q7l9s_28","title-left":"_title-left_q7l9s_33","title-right":"_title-right_q7l9s_38","right-item":"_right-item_q7l9s_43","list-line":"_list-line_q7l9s_53","line-left":"_line-left_q7l9s_59","left-icons":"_left-icons_q7l9s_63","icon-img":"_icon-img_q7l9s_63","icon-card":"_icon-card_q7l9s_68",red:et,"left-name":"_left-name_q7l9s_83","line-middle":"_line-middle_q7l9s_91","line-right":"_line-right_q7l9s_96"},[tt]=x("pages-sport-content-normal-detail"),at=A({name:tt,props:{leagueId:{type:Number,required:!0}},setup(l){const n=B(),b=ie(),d=ae(),c=h(()=>n.leagueMap[l.leagueId].sportList),y=t=>{var m,a,r,s;return[{teamKey:T.Home,iconUrl:t.teamInfo.homeIconUrl,yellowCard:(m=t.soccerInfo)==null?void 0:m.homeYellowCard,redCard:(a=t.soccerInfo)==null?void 0:a.homeRedCard,teamName:t.teamInfo.homeName,score:t.gameInfo.liveHomeScore},{teamKey:T.Away,iconUrl:t.teamInfo.awayIconUrl,yellowCard:(r=t.soccerInfo)==null?void 0:r.awayYellowCard,redCard:(s=t.soccerInfo)==null?void 0:s.awayRedCard,teamName:t.teamInfo.awayName,score:t.gameInfo.liveAwayScore},{teamKey:T.Draw}]},o=(t,m)=>{m||n.marketKey!==$.FocusOn||n.setSportContentSSEDataMap("eventList",n.activeSportContentDataMap.eventList.filter(a=>a.eventId!==t))},E=t=>{b.updateEventInfo(t),d.push({name:te.SPORT_EVENT_DETAIL,query:{eventId:t.eventId}})};return()=>e("div",{class:_["sport-detail"]},[c.value.map(t=>{const m=Xe(t.sportType);return e("div",{class:_["detail-list"]},[e("div",{class:_["list-title"]},[e("div",{class:_["title-left"]},[e(Ue,{sportType:t.sportType,gameInfo:t.gameInfo,localDateTime:he(t.globalShowTime,be.Market),isLive:t.isLive,key:"".concat(t.eventId,"-").concat(JSON.stringify(t.gameInfo))},null),e(Ge,{item:{sportType:t.sportType,leagueId:t.leagueId,isParlay:t.isParlay,eventId:t.eventId},onFocusOn:a=>o(t.eventId,a)},null)]),e("div",{class:_["title-right"]},[m.map(a=>{var r,s,i;return e("span",{class:_["right-item"]},[(i=(s=(r=t.marketMap)==null?void 0:r[a.type])==null?void 0:s.betTypeName)!=null?i:a.defaultName()])})])]),y(t).map(a=>e("div",{class:_["list-line"]},[e("div",{class:_["line-left"],onClick:()=>E(t)},[a.iconUrl&&e("div",{class:_["left-icons"]},[e(I,{class:_["icon-img"],src:a.iconUrl,useSkeleton:!0},null),!!a.yellowCard&&e("span",{class:_["icon-card"]},[a.yellowCard]),!!a.redCard&&e("span",{class:[_["icon-card"],_.red]},[a.redCard])]),a.teamName&&e("div",{class:_["left-name"]},[a.teamName])]),e("div",{class:_["line-middle"]},[a.score]),e("div",{class:_["line-right"]},[m.map(r=>e(Ze,{teamKey:a.teamKey,type:r.type,event:t,key:t.eventId},null))])]))])})])}}),ot="_open_19m1i_42",st="_placeholder_19m1i_59",g={"sport-title":"_sport-title_19m1i_17","title-left":"_title-left_19m1i_22","left-icon":"_left-icon_19m1i_26","left-text":"_left-text_19m1i_29","left-arrow":"_left-arrow_19m1i_37",open:ot,"title-right":"_title-right_19m1i_45","right-select":"_right-select_19m1i_49","right-icon":"_right-icon_19m1i_53",placeholder:st,"placeholder-type":"_placeholder-type_19m1i_59","league-list":"_league-list_19m1i_62","league-name":"_league-name_19m1i_69","title-icon":"_title-icon_19m1i_75","title-icon-hot":"_title-icon-hot_19m1i_83"},[lt]=x("pages-sport-content-league-sport-title"),rt=A({name:lt,props:{open:{type:Boolean,default:!0}},emits:["update:open"],setup(l,{emit:n}){const b=ce(),d=ke(),c=ae(),y=B(),o=ue(),E=ne(),t=h(()=>y.sportList.find(s=>s.sportType===y.sportKey)),m=M(d),a=d.find(s=>s.value===z.Europe);O(()=>y.sportKey===C.Cricket||y.marketKey===$.Parlay,s=>{if(s&&m.value.length>1){m.value=[a],o.oddsKey!==z.Europe&&(o.oddsKey=z.Europe);return}!s&&m.value.length===1&&(m.value=d.slice())},{immediate:!0}),O(()=>o.oddsKey,()=>{E.parlayBetList=[]});const r=()=>{c.push({name:te.SPORT_RECORD,query:{recordCurrent:Ce.NOTSETTLED}})};return()=>e("div",{class:g["sport-title"]},[e("div",{class:g["title-left"],onClick:()=>n("update:open",!l.open)},[e(I,{class:g["left-icon"],src:"/lobby_asset/common/web/selfoperated-games/".concat(t.value.asideSvg,".svg"),useSkeleton:!0},null),e("span",{class:g["left-text"]},[t.value.sportName()]),e(I,{src:"/lobby_asset/common/web/common/comm_icon_jzgd.svg",class:[g["left-arrow"],{[g.open]:l.open}],useSkeleton:!0},null)]),e("div",{class:g["title-right"]},[e(Le,{round:!0,autoWidth:!0,minWidth:"auto",size:"mini",fillMode:"neutral_2",wrapperClass:g["right-select"],modelValue:o.oddsKey,"onUpdate:modelValue":s=>o.oddsKey=s,options:m.value.map(s=>({value:s.value,label:s.label()}))},null),e(I,{class:g["right-icon"],src:"/lobby_asset/common/web/selfoperated-games/icon_ty_tzjl.svg",useSkeleton:!0,onClick:r},null),e(I,{class:g["right-icon"],src:"/lobby_asset/common/web/selfoperated-games/icon_ty_ss.svg",useSkeleton:!0,onClick:()=>b.open("sportLeagueFilter")},null)])])}});function nt(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!Re(l)}const[it]=x("pages-sport-content-normal"),ct=A({name:it,props:We,setup(l){const{t:n}=P(),b=B(),d=M([]),c=h(()=>b.leagueIdList.slice(0,l.length)),y=h(()=>!c.value.length),o=a=>[...a].sort((r,s)=>r-s).join();O([()=>b.sportContentKey,()=>c.value.join(","),()=>l.length],([a,r,s],[i,k,w])=>{if(a===i&&r!==k&&s!==w){o(d.value)===o(k.split(",").map(Number))&&(d.value=r.split(",").map(Number));return}(a!==i||r[0]&&r[0]!==k[0])&&(d.value=c.value.slice(0,1))});const E=M(!1),t=h({get:()=>y.value?E.value:o(d.value)===o(c.value),set:a=>{if(y.value){E.value=a;return}d.value=a?[...c.value]:[]}}),m=h(()=>l.loading?"nested-loading":y.value?"empty":null);return()=>{let a;return e(ee,null,[e(rt,{open:t.value,"onUpdate:open":r=>t.value=r},null),e(pe,{class:[g.placeholder,m.value&&g["placeholder-type"]],type:m.value,empty:{text:n("lobby.selfoperatedGames.sports.noEventsYet")}},{default:()=>[e(Ae,{modelValue:d.value,"onUpdate:modelValue":r=>d.value=r,class:g["league-list"]},nt(a=c.value.map((r,s)=>{const i=b.leagueMap[r];return e(qe,{name:i.leagueId,key:"normal-".concat(s)},{title:()=>e("div",{class:g["league-name"]},[i.leagueName]),icon:()=>e(ee,null,[e(I,{src:i.leagueIconUrl,class:g["title-icon"],useSkeleton:!0},null),b.activeHotLeagueIds.includes(r)&&e(I,{src:"/lobby_asset/common/common/home/img_game_tj_1.png",class:g["title-icon-hot"]},null)]),default:()=>e(at,{leagueId:r,key:r},null)})}))?a:{default:()=>[a]})]})])}}}),ut="_placeholder_1t7ss_25",H={"sport-content":"_sport-content_1t7ss_17","maintenance-from-home":"_maintenance-from-home_1t7ss_20",placeholder:ut,"content-more":"_content-more_1t7ss_29","more-icon":"_more-icon_1t7ss_35"},[pt]=x("pages-sport-content"),mt=Fe({loader:()=>Oe(()=>import("./OutrightIndex.Dlwi_aI1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))}),dt=A({name:pt,props:{fromHome:Boolean},setup(l){const{t:n}=P(),b=M(1),d=h(()=>b.value*re),c=M(!0),y=M(),o=B(),E=ue(),t=Ee(),m=Ie(),a=M(!1),r=M(),s=Te({el:r}),{getEventQuery:i}=Me();O(()=>o.sportContentKey,()=>{b.value=1,l.fromHome||we(s.value,{y:0})},{immediate:!0});const k=h(()=>o.marketKey===$.Outright),w=h(()=>{const{marketList:u,outrightList:v}=o.activeSportContentDataMap;return k.value?v.length:u.length}),{isKeptAlive:V}=Ke(),{data:q,status:W}=Ne({url:y,failedCallback:()=>c.value=!1}),f=async u=>{var oe,se;if(o.activeHotLeagueIds.length)return;const[v,D]=await $e(Be({query:u,includeMarkets:"none"})),X=v?[]:Ve(((se=(oe=D.data)==null?void 0:oe.events)!=null?se:[]).map(me=>me.leagueId));o.hotLeagueIdsMap[o.sportKey]=X},S=()=>{const u=i(),v=De(o.marketKey);y.value=He(k.value?{sourcePath:"/sports/stream/v1/GetOutrights",params:{...v}}:{sourcePath:"/sports/stream/v1/GetEvents",params:{...v,query:u}}),!k.value&&f(u)};O([V,()=>t.sportToken,()=>l.fromHome&&!m.isHomeTabOnSport,()=>o.sportKey,()=>o.marketKey,()=>E.selectedListMap],([u,v,D])=>{if(u||!v||D){y.value=void 0;return}S()},{immediate:!0}),O(W,async u=>{if(u==="CONNECTING"){!w.value&&(c.value=!0);return}if(u==="OPEN"){a.value=!0,q.value=null;return}u==="CLOSED"&&(c.value=!0)}),O(q,(u,v)=>{if(u!==null){if(v===null&&u==="KEEPALIVE"){K();return}k.value?U(u):G(u),a.value=!1,c.value=!1}});const K=()=>{if(c.value=!1,k.value){o.setSportContentSSEDataMap("outrightList",[]);return}o.setSportContentSSEDataMap("eventList",[]),o.setSportContentSSEDataMap("marketList",[])},U=u=>{const v=le(u,Q.Outrights);v&&o.setSportContentSSEDataMap("outrightList",J({data:v,originList:a.value?[]:o.activeSportContentDataMap.outrightList,itemKey:Z.Outrights,filterSport:!0}))},G=u=>{const v=le(u,[Q.Events,Q.Markets]);if(!v)return;const[D,X]=v;o.setSportContentSSEDataMap("eventList",J({data:D,originList:a.value?[]:o.activeSportContentDataMap.eventList,itemKey:Z.Events,filterSport:!0})),o.setSportContentSSEDataMap("marketList",J({data:X,originList:a.value?[]:o.activeSportContentDataMap.marketList,itemKey:Z.Markets,filterSport:!0}))},j=h(()=>(k.value?o.outrightLeagueList.length:o.leagueIdList.length)>d.value),R=async()=>{c.value||(c.value=!0,b.value++,await Pe(1e3),c.value=!1)},F=h(()=>k.value?mt:ct);return()=>e("div",{class:H["sport-content"]},[m.isSportMaintenance?e(xe,{class:l.fromHome&&H["maintenance-from-home"]},null):e(pe,{ref:r,type:m.isLoginError?"empty":null,empty:{text:n("lobby.selfoperatedGames.sports.noEventsYet")+m.isLoginError},class:H.placeholder},{default:()=>[e(F.value,{loading:c.value,length:d.value},null),j.value&&e("div",{class:H["content-more"],onClick:R},[n("lobby.game.loadingMore"),e(I,{class:H["more-icon"],src:"/lobby_asset/common/web/common/comm_icon_jzgd.svg",useSkeleton:!0},null)])]})])}}),kt=Object.freeze(Object.defineProperty({__proto__:null,default:dt},Symbol.toStringTag,{value:"Module"}));export{dt as S,kt as a,We as p};
//# sourceMappingURL=SportContentIndex.CHBMDDfi.js.map
