import{a as N,u as V,fq as $,fr as A,I as G,fs as J,U,bG as R,aa as K,ft as z,o as Q,_ as X,E as g,b as Y,q as Z,B as ee,a6 as ae,v as te,fu as le}from"./main.C8q1iJMV.js";import{u as ne}from"../vendors/vendor-stable.LD58Pbb3.js";import{g as se,c as oe,a as ie}from"./utils.9fBIObLK.js";import{T as ue,u as re}from"./TaskProgressIndex.4qW_VSh-.js";import{M as ce}from"./ModalContentIndex.Dj08dEyt.js";import{l as B,f as d,p as e,v as c,r as D,w as de,C as pe}from"../vendors/vendor-@vue.DNlpgob2.js";import{e as me}from"../vendors/vendor-default.CjiYZF7Q.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";import"./enum.CisFEKyB.js";import"./index.Dc16CbDK.js";import"./Progress.BhMcUY2s.js";import"./index.C870Y1OX.js";import"./index.nTWlx4yZ.js";const fe={data:{type:Object,default:()=>{}}},ye="_detailsWrapper_1knea_17",he="_date_1knea_47",ve="_auditRate_1knea_50",Te="_highlight_1knea_53",_e="_finance_1knea_58",be="_bold_1knea_61",ge="_todo_1knea_65",we="_pending_1knea_68",ke="_success_1knea_71",Ae="_dealTypeName_1knea_74",Re="_lead_1knea_99",n={detailsWrapper:ye,date:he,auditRate:ve,highlight:Te,finance:_e,bold:be,todo:ge,pending:we,success:ke,dealTypeName:Ae,"line-through":"_line-through_1knea_79","progress-wrapper":"_progress-wrapper_1knea_85","lost-all-money":"_lost-all-money_1knea_88","type-amount":"_type-amount_1knea_92",lead:Re,"task-progress":"_task-progress_1knea_103","flex-end":"_flex-end_1knea_106"},[De]=U("betting-task-details"),T=s=>X(s||0,{toFixedType:"score"}).toString(),Ne=s=>({formattedCreateTime:d(()=>{var a;return R((a=s.value)==null?void 0:a.createTime)}),formattedAmount:d(()=>{var a;return T((a=s.value)==null?void 0:a.amount)}),formattedAuditRate:d(()=>{var a;return T((a=s.value)==null?void 0:a.auditRate)}),formattedAuditAmount:d(()=>{var a;return T((a=s.value)==null?void 0:a.auditAmount)}),formattedAuditedAmount:d(()=>{var a,u;return T(+(((a=s.value)==null?void 0:a.auditAmount)||0)-+(((u=s.value)==null?void 0:u.needAuditAmount)||0))}),formattedNeedAuditAmount:d(()=>{var a;return T((a=s.value)==null?void 0:a.needAuditAmount)}),formattedFinishTime:d(()=>{var a,u;return((a=s.value)==null?void 0:a.finishTime)&&R((u=s.value)==null?void 0:u.finishTime)})}),Be=B({name:De,props:fe,setup(s){const{t:a}=N(),{open:u}=V(),{handleTransaction:m}=re(),t=d(()=>s.data),{push:_}=Y(),r=$(),f=d(()=>{var l;return(l=t.value)!=null&&l.optType?oe(t.value.optType,t.value.dealType):!1}),b=l=>{var y,h,v;l.stopPropagation();const o=(y=t.value)==null?void 0:y.optType,i=(h=t.value)==null?void 0:h.dealType,p=(v=t.value)==null?void 0:v.orderNo;m(o,i,p).then(k=>{k&&K.showDialog({title:a("lobby.reward.base.templateTitle"),message:()=>e(ce,{rewardData:k,rewardText:a("lobby.records.amount")},null),showConfirmButton:!1,showCloseButton:!0})})},C=d(()=>{var l,o,i,p;return f.value?((l=t.value)==null?void 0:l.activeName)||((o=t.value)==null?void 0:o.dealTypeName):((i=t.value)==null?void 0:i.dealTypeName)||((p=t.value)==null?void 0:p.optTypeName)}),{formattedCreateTime:x,formattedAmount:S,formattedAuditRate:O,formattedAuditAmount:I,formattedAuditedAmount:E,formattedFinishTime:w}=Ne(t),P=()=>{u("betRules")},q=()=>{var l,o,i;return((l=t.value)==null?void 0:l.amount)=="0"?"":e("li",{class:n["type-amount"]},[e("ul",null,[e("li",null,[r.renderTaskOrigin((o=t.value)==null?void 0:o.sourceType)]),e("li",null,[c("("),a("lobby.finance.withdraw.auditRecordDetails.range"),c(")")])]),e("ul",{class:n["flex-end"]},[e("li",{class:((i=t.value)==null?void 0:i.sourceType)===z.REWARD?n.finance:n.lead},[c("+"),S.value]),e("li",{class:n.auditRate},[c("(x"),O.value,a("lobby.finance.withdraw.multiple"),c(")")])])])},H=()=>{var l;return e("li",null,[e("span",null,[e("span",null,[a("lobby.finance.withdraw.requireBet")]),e("span",{class:n.highlight,onClick:P},[c("("),a("lobby.finance.withdraw.auditRecordDetails.calculationRules"),c(")")])]),e("span",{class:((l=t.value)==null?void 0:l.canBeCancel)&&n["line-through"]},[I.value])])},W=()=>e("li",{class:n["type-amount"]},[e("span",null,[a("lobby.finance.withdraw.auditRecordDetails.audited")]),e("ul",{class:n["flex-end"]},[e("li",{class:n.bold},[E.value]),e("li",{class:n["task-progress"]},[t.value&&e(ue,{item:t.value},null)])])]),j=()=>{_({name:g.HOME})},F=[A.PENDING,A.TODO],L=d(()=>{var l,o;return(l=t.value)!=null&&l.status?F.includes((o=t.value)==null?void 0:o.status):!1}),M=l=>{var o,i;return(o=t.value)!=null&&o.canBeCancel?e("li",null,[e("span",null,[a("lobby.finance.withdraw.auditRecordDetails.status"),e("span",{class:n.highlight,onClick:Q},[c("("),a("lobby.modal.pay.payBtn"),c(")")])]),e("p",{class:n["lost-all-money"]},[a("lobby.finance.withdraw.payAutoReleased")])]):e("li",null,[e("span",null,[a("lobby.finance.withdraw.auditRecordDetails.status"),L.value&&e("span",{class:n.highlight,onClick:j},[c("("),a("lobby.finance.withdraw.auditRecordDetails.goTask"),c(")")])]),e("span",{class:[n.bold,n[ie(l)]]},[(i=t.value)==null?void 0:i.statusName])])};return()=>{var l,o,i,p,y,h,v;return t.value?e("ul",{class:n.detailsWrapper},[e("li",null,[e("span",null,[a("lobby.finance.withdraw.auditRecordDetails.type")]),e("span",{class:n.dealTypeName},[e(G,{src:"/lobby_asset/common/web/withdraw/".concat(se(t.value.optType),".svg")},null),(l=t.value)==null?void 0:l.optTypeName])]),e("li",null,[e("span",null,[a("lobby.finance.withdraw.auditRecordDetails.taskOrigin")]),e("span",null,[r.renderTaskOrigin((o=t.value)==null?void 0:o.sourceType)])]),f.value&&e("li",null,[e("span",null,[a("lobby.finance.withdraw.auditRecordDetails.sourceName")]),e("span",{class:{[n.highlight]:f.value},onClick:b},[C.value])]),e("li",null,[e("span",null,[a("lobby.finance.withdraw.auditRecordDetails.time")]),e("span",{class:n.date},[(i=t.value)!=null&&i.createTime?x.value:"-"])]),q(),H(),W(),M(t.value.status),!!w.value&&e("li",null,[e("span",null,[a("lobby.finance.withdraw.auditRecordDetails.completedTime")]),e("span",null,[w.value])]),!!((p=t.value)!=null&&p.specifyPlatforms)&&e("li",null,[e("span",null,[a("lobby.finance.withdraw.auditRecordDetails.limitPlatform")]),e("span",null,[(y=t.value)==null?void 0:y.specifyPlatforms])]),Number((h=t.value)==null?void 0:h.cancelAmount)>0&&e("li",null,[e(J,{cancelAmount:(v=t.value)==null?void 0:v.cancelAmount},null)])]):null}}}),Ce="_taskDetails_1ql21_17",xe={taskDetails:Ce};function Se(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Object]"&&!pe(s)}const[Oe]=Z("pages-withdraw-record-detail"),Xe=B({name:Oe,setup(){const{t:s}=N(),a=D(null),u=ne(),m=D(null),t=async r=>{m.value="loading";const[f,b]=await me(le(Number(r)));if(m.value=null,f){m.value="retry";return}a.value=b};de(()=>u.query.id,r=>{u.name!==g.AUDIT_DETAILS&&u.name!==g.BETTING_TASK_DETAILS||r&&t(r)},{immediate:!0});const _=()=>{t(u.query.id)};return()=>e(te,null,{header:()=>{let r;return e(ee,null,Se(r=s("lobby.finance.withdraw.auditRecordDetails.title"))?r:{default:()=>[r]})},default:()=>e(ae,{class:[xe.taskDetails],type:m.value,onRetry:_},{default:()=>[a.value&&e(Be,{data:a.value},null)]})})}});export{Xe as default};
//# sourceMappingURL=BettingTaskDetailIndex.llcFAiqq.js.map
