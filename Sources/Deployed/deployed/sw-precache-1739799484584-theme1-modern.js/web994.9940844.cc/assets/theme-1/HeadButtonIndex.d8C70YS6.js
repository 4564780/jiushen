import{u as y,c as C,d as v}from"./CurrencySign.2qreYYNe.js";import{I as p,q as N,a as k,eR as E,lm as S,ld as B,gA as R,eP as P,af as w,E as I,b as L,eQ as d}from"./main.C8q1iJMV.js";import{l as T,p as t,f as j,o as A}from"../vendors/vendor-@vue.DNlpgob2.js";import"../vendors/vendor-default.CjiYZF7Q.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import{s as M}from"../vendors/vendor-stable.LD58Pbb3.js";import{u as O}from"./index.DxyeSsHe.js";const z={menuList:{type:Array,default(){return[]},require:!0},className:{type:Object,default:()=>({})},iconColor:{type:String,default:()=>""},icon:{type:Array,default:()=>[]},iconPath:{type:String,default:"/lobby_asset/common/web/profile/"}},q="_list_bkv50_17",H="_item_bkv50_17",W="_left_bkv50_21",D="_right_bkv50_22",F="_label_bkv50_27",U="_arrow_bkv50_37",$="_extraInfo_bkv50_40",G="_icon_bkv50_55",K="_hasExtra_bkv50_60",a={list:q,item:H,left:W,right:D,label:F,arrow:U,extraInfo:$,icon:G,hasExtra:K},[Q]=N("menuList"),ue=T({name:Q,props:z,setup(n){var r,i,m,l,g,h;const u=(i=(r=n.className)==null?void 0:r.menuItem)!=null?i:"",_=(l=(m=n.className)==null?void 0:m.menuItemLeft)!=null?l:"",b=(h=(g=n.className)==null?void 0:g.menuItemRight)!=null?h:"",{getHallIcon:c}=y(),f=e=>e.key&&c(e.key)?t(v,{size:e.iconSize,icon:[{icon:c(e.key)}]},null):t(v,{iconPath:e.path||n.iconPath,size:e.iconSize,icon:e.icon},null);return()=>t("ul",{class:[a.list,"menulist"]},[n.menuList.map((e,o)=>t("li",{key:o,class:[a.item,u],onClick:()=>{var x;(x=e.onClick)==null||x.call(e)}},[t("div",{class:[a.left,_,e.extra?a.hasExtra:"",...e.classList||[]]},[e.iconRender?e.iconRender():f(e),t("span",{class:[a.label,"mine-menulist-label"]},[e.title()])]),t("div",{class:[a.right,b,e.rightClass||""]},[e.extra&&t("p",{class:a.extraInfo},[typeof e.extra=="function"?e.extra():e.extra]),t(p,{class:[C.arrow,a.arrow],src:"/lobby_asset/common/web/common/comm_icon_fh.svg"},null)])]))])}}),V={isNeedText:{type:Boolean,default:!0},iconPath:{type:Object,default:()=>({service:"",message:"",setting:""}),require:!0}},X="_headerBtnWrapper_hjlpx_17",Z="_btnContainer_hjlpx_24",J="_badgeBox_hjlpx_30",Y="_icon_hjlpx_33",ee="_iconText_hjlpx_39",s={headerBtnWrapper:X,btnContainer:Z,badgeBox:J,icon:Y,iconText:ee},[te]=N("pages-mine-head-button"),me=T({name:te,props:V,setup(n){const{t:u}=k(),_=L(),b=E();S();const{state:c,getFeedBackData:f}=O(),{unreadAnnouncement:r,unreadNotice:i}=M(b),{ownerTopIconMap:m}=B.useOwnerCustomizeIcon("top"),l=j(()=>r.value+i.value+c.unRead),{navigateToServicePage:g}=R();A(()=>{b.getMessageAll({page:1,type:P.INDEX_PAGE}),f(0)});const h=()=>{{let o=d.NOTICE;l.value>0&&(r.value>0&&i.value>0&&c.unRead>0?o=d.NOTICE:r.value>0?o=d.ANNOUNCEMENT:i.value>0?o=d.NOTICE:c.unRead>0&&(o=d.FEEDBACK)),_.push({name:I.NOTICE,query:{noticeType:o}})}},e=()=>{g({})};return()=>t("header",{class:[s.headerBtnWrapper,"header-wrapper"]},[t("div",{class:[s.btnContainer,"header-item"],onClick:e},[t(p,{src:n.iconPath.service,useSkeleton:!0,class:[s.icon,"icon"]},null),n.isNeedText&&t("p",{class:[s.iconText,"iconText"]},[u("lobby.tabbar.service")])]),t("div",{class:[s.btnContainer,"header-item"],onClick:()=>h()},[l.value>0?t(w,{content:l.value,max:99,position:"top-right",showZero:!1,offset:[4,2],class:s.badgeBox},{default:()=>[t(p,{src:m.get("messageUnreadIcon")||n.iconPath.message,useSkeleton:!0,class:[s.icon,"icon","message"]},null)]}):t(p,{src:m.get("messageReadIcon")||n.iconPath.message,useSkeleton:!0,class:[s.icon,"icon","message"]},null),n.isNeedText&&t("p",{class:[s.iconText,"iconText"]},[u("lobby.header.messages")])]),t("div",{class:[s.btnContainer,"header-item"],onClick:()=>_.push({name:I.SETTING})},[t(p,{src:n.iconPath.setting,useSkeleton:!0,class:[s.icon,"icon","profile"]},null),n.isNeedText&&t("p",{class:[s.iconText,"iconText"]},[u("lobby.header.menus.settings")])])])}});export{me as H,ue as M};
//# sourceMappingURL=HeadButtonIndex.d8C70YS6.js.map
