import{q as b,$ as z,Y as v,b as N,E as P,aG as $,aH as B,D as H,aI as F,aJ as O,aK as M,aL as V,aM as K,aN as X,aO as Y}from"./main.C8q1iJMV.js";import{l as k,p as e,v as a,r as f,f as j,C as Q}from"../vendors/vendor-@vue.DNlpgob2.js";import{C as y,d as Z,v as ee}from"../vendors/vendor-default.CjiYZF7Q.js";import{d as te}from"../vendors/vendor-stable.LD58Pbb3.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";const[ne]=b("pages-devtools-finance"),oe=k({name:ne,setup(){return()=>e("div",null,[a("finance")])}}),se=y.enc.Utf8.parse("5421698523412578"),le="thanks,pig4cloud",ae={mode:y.mode.ECB,padding:y.pad.Pkcs7},re={mode:y.mode.CBC,padding:y.pad.ZeroPadding},ie={mode:y.mode.CBC,padding:y.pad.Pkcs7};function ue(n){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i.test(n)}function x(n){return y.MD5(n).toString()}function D(n){try{return n.startsWith("{")||n.startsWith("[")}catch(s){return!1}}function ce(n){const s={};for(const[o,i]of new URL(n).searchParams.entries())s[o]=i;return s}function w(n,s,o=""){try{return y.AES.decrypt(n,y.enc.Utf8.parse(s.key),{iv:se,...s.options}).toString(y.enc.Utf8)}catch(i){return"【Decrypt error. please check in log.txt. ".concat(o,"】")}}function de(n,s){return n.encryptString&&(n.encryptString=w(n.encryptString,s)),n}function pe(n){const s=n.request.payload||"",o=n.response.content.resTxt||"",i=n.request.url;if(!o&&!s)return{payload:"",responseContent:""};if(i.includes(".json")&&!D(o))return{payload:s,responseContent:w(o,{key:le,options:ae},"pig4cloud")};const c=n.request.headers.token;let g="token: ".concat(c);if(!c)return{payload:s,responseContent:o};let p;if(ue(c))p=x(c+x(c)).slice(2,18);else{const C=n.request.headers["x-object-id"];if(!C)return{payload:s,responseContent:o};g+=", uid: ".concat(JSON.parse(C).uid),p=x(c+JSON.parse(C).uid).slice(0,16)}const S=D(o)?o:w(o,{key:p,options:ie},g),T={key:p,options:re},I=de(ce(i),T);return{queryString:JSON.stringify(I),responseContent:S,payload:s?w(s,T,g):""}}const ge="_erudaWrap_179y1_17",me={erudaWrap:ge},[fe]=b("pages-devtools-general"),ye=k({name:fe,setup(){const n=f(sessionStorage.getItem("abcdefg_open")==="true"),s=o=>{try{const i=(r=Date.now())=>{const t=Z(r);return"".concat(t.year(),"-").concat(t.month(),"-").concat(t.date(),"_").concat(t.hour(),":").concat(t.minute(),":").concat(t.second())},c=r=>r.join("\n-------------------------------------------\n"),g=(r,t)=>{const l=URL.createObjectURL(new Blob([r],{type:"text/plain"})),d=document.createElement("a");d.href=l,d.download=t,d.click(),URL.revokeObjectURL(l)},p=r=>"".concat(r,"_").concat(i(),".txt"),S=()=>c(window.eruda.get("console")._logger.displayLogs.map(r=>r.args)),T=r=>{try{r=r||"";const t=JSON.parse(r);return typeof t!="string"?r:t}catch(t){return r}},C=o==="log"?S():(()=>{const r=u=>{const m=[];for(const[h,_]of Object.entries(u))m.push("".concat(h,": ").concat(_));return m.join("\n")},t=u=>"[Start Time] ".concat(i(u.startTime)),l=u=>"[General]\nRequest URL: ".concat(u.url,"\nRequest Method: ").concat(u.method,"\nStatus Code: ").concat(u.status,"\nTime: ").concat(u.displayTime),d=u=>"[Response Headers]\n".concat(r(u.resHeaders||{})),E=u=>"[Request Headers]\n".concat(r(u.reqHeaders||{})),A=u=>"[Request Payload]\n".concat(u.data||""),G=u=>"[Request QueryString]\n".concat(u.queryString||""),U=u=>"[Response]\n".concat(u.resTxt||""),R=[];for(const[u,m]of Object.entries(window.eruda.get("network")._requests)){const h=m,{payload:_,responseContent:q,queryString:J}=pe({response:{content:{resTxt:T(h.resTxt),mimeType:h.subType}},request:{headers:h.reqHeaders,payload:T(h.data),url:h.url}});h.resTxt=q,h.data=_,h.queryString=J,R.push("".concat(t(m),"\n").concat(l(m),"\n").concat(d(m),"\n").concat(E(m),"\n").concat(A(m),"\n").concat(G(m),"\n").concat(U(m)))}return c(R)})();g(C,p(o))}catch(i){alert("导出发生错误：".concat(i))}};return()=>e("div",null,[e("div",{style:{display:"flex",alignItems:"center"}},[e("span",{style:{marginRight:"20px"}},[a("Eruda")]),e(z,{value:n.value,"onUpdate:value":o=>n.value=o,onChange:o=>{o?sessionStorage.setItem("abcdefg_open","true"):sessionStorage.removeItem("abcdefg_open"),setTimeout(()=>{location.reload()},600)}},null)]),n.value&&e("div",{class:me.erudaWrap,style:{marginTop:"10px"}},[e(v,{size:"mini",onClick:()=>s("log")},{default:()=>[a("导出log日志")]}),e(v,{size:"mini",onClick:()=>s("network")},{default:()=>[a("导出network日志")]})])])}}),[he]=b("pages-devtools-general"),ve=k({name:he,setup(){return()=>e("div",null,[e("br",null,null),e(v,{size:"mini",onClick:()=>N().push({name:P.DEVTOOLS})},{default:()=>[a("页面调试")]}),e(v,{size:"mini",onClick:()=>N().push({name:P.ROOT})},{default:()=>[a("回到首页")]}),e("br",null,null),e("br",null,null),e("p",null,[a("UA")]),e("br",null,null),e("code",null,[navigator.userAgent]),e("hr",null,null),e("br",null,null),e("p",null,[a("WGPacakge")]),e("pre",null,[e("code",null,[JSON.stringify($,null,2)])]),e("hr",null,null),e("br",null,null),e(ye,null,null)])}}),Se=te("persistent-demo",()=>{const n=f(0),s=()=>{n.value++},o=f(0),i=()=>{o.value++},c=f(0);return{countWithIndexedDB:c,updateCountWithIndexedDB:()=>{c.value++},countWithLocal:n,updateCountWithLocal:s,countWithSyncStorageLocal:o,updateCountWithSyncStorageLocal:i}},{persist:[{paths:["countWithIndexedDB"],storage:B()},{paths:["countWithSyncStorageLocal"],key:"persistent-demo:WithSyncStorageLocal",storage:B({beforeSet(n){return n},afterGet(n){return n}},"local")},{paths:["countWithLocal"],storage:localStorage}]}),[Te]=b("pages-devtools-persistent-test"),Ce=k({name:Te,setup(){const n=Se();return()=>e("div",null,[e("br",null,null),a("countWithIndexedDB:"),e(v,{size:"mini",onClick:()=>{n.updateCountWithIndexedDB()}},{default:()=>[n.countWithIndexedDB]}),a("countWithSyncStorageLocal:"),e(v,{size:"mini",onClick:()=>{n.updateCountWithSyncStorageLocal()}},{default:()=>[n.countWithSyncStorageLocal]}),a("countWithLocal:"),e(v,{size:"mini",onClick:()=>{n.updateCountWithLocal()}},{default:()=>[n.countWithLocal]})])}}),[be]=b("pages-devtools-skin"),ke=k({name:be,setup(){return()=>e("div",null,[a("skin")])}}),Ie="_geetoken_2049o_17",Oe="_item_2049o_21",W={geetoken:Ie,item:Oe};var Ee={env:"prod",staticToken:"b2e3d672-9d88-47a7-81b4-9d7ffc62054f",dsn:"https://f5e83138ea78f244ab8adf5d23ca9374@e34rsfds.cbfes.com/4"};const[we]=b("pages-devtools-speedPackage"),_e=k({name:we,setup(){const n=H();(()=>{$.package.isApp||(console.log("jsBridge setupJsBridge success"),window.jsBridge={postMessage:(t,l)=>{console.log("jsBridge WEBVIEW ===> APP",l),g.value!=="TIMEOUT"&&window.setTimeout(()=>{o(l)},2e3)}},O.update())})();const o=t=>{var l,d;console.log("jsBridge APP ===> WEBVIEW",t),(d=(l=window.jsBridge)==null?void 0:l.onWebviewEvents)==null||d.call(l,t)},i=f({}),c=j(()=>{const t=F();return{DEMO:{url:window.location.origin,method:"GET",body:""},POST:{url:"".concat(t.domainListMap.apiDomain[0],"/hall/home/heartbeat"),method:"POST",body:"yq5CKIbdImlcu7thiIQinB5jKBInIvt7RUC4Hniqyww=",headers:{accept:"application/json, text/plain, */*","accept-language":"zh",appversion:"v4.2.93",auth:"undefined",browserfingerid:"",clienttimezone:"+8","content-type":"text/plain",currency:"CNY",device:"32768e3a-9314-4807-816e-de180c68b61f",devicemodel:"Chrome131.0.0.0",devicetype:"3",domain:window.location.host,language:"zh",nonce:"bcac3af4-817f-4455-a111-848e68d10e65",origin:window.location.origin,platformtype:"5",priority:"u=1, i",referer:window.location.origin,"sec-ch-ua":'"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site",sign:"3vj+mmzfl533HND0JFDqGLP079TkdqWVn5G0m3gtSWYbBWVs9RuiV9/ZgjSWW5Wo",sitecode:"032",timestamp:"1732606621",token:Ee.staticToken,"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","x-custom-referer":window.location.origin,"x-object-id":'{"uid":"","browserLanguage":"zh-CN","init":{"created":1732606611534,"version":1732527073000}}',"x-request-id":"bcac3af4-817f-4455-a111-848e68d10e65","x-version":"4.2.93"}},GET:{url:"".concat(t.domainListMap.ossDomain[0],"hall/api/lobby/webapi/h5/config/getInfo.json"),method:"GET",body:""},TIMEOUT:{url:"https://timeout",method:"GET",body:""},NOT_MERGE:{url:"https://notmerge",method:"GET",body:""}}}),g=f("DEMO"),p=f(JSON.stringify(c.value[g.value],null,2)),S=f(null);let T;O("PUSH_TEST").on(t=>{console.log("PUSH_TEST","SUCCESS",t)});const I=async()=>{var t;i.value=(t=await K())!=null?t:{}};I();const C=f(""),r=f("");return()=>e("div",null,[e("br",null,null),e("p",null,[a("极速包信息")]),e("pre",null,[e("code",null,[JSON.stringify($.wgPackageConfig,null,2)])]),e("hr",null,null),e("br",null,null),e("div",{style:{display:"flex",alignItems:"center"}},[e("p",{style:{marginRight:"10px"}},[a("接口下发版本号")]),e(v,{size:"normal",onClick:I},{default:()=>[a("获取接口数据")]})]),e("pre",null,[e("code",null,[JSON.stringify(i.value,null,2)])]),e("hr",null,null),e("br",null,null),e("p",null,[a("获取GeeToken")]),e("ul",{class:W.geetoken},[e("li",{class:W.item},[e(v,{size:"mini",onClick:()=>{var t,l;O("GEE_TOKEN").send({appId:M().isIos?(t=n.systemInfos)==null?void 0:t.geetestDeviceIOSAppId:(l=n.systemInfos)==null?void 0:l.geetestDeviceAndroidAppId}).then(d=>{var E;(E=d.payload)!=null&&E.gee_token&&(C.value=d.payload.gee_token)})}},{default:()=>[a("急速包")]}),e("br",null,null),e("p",null,[C.value])]),e("li",{class:W.item},[e(v,{size:"mini",onClick:()=>{V.getGeeGuardToken().then(t=>{t!=null&&t.geeToken&&(r.value=t.geeToken)})}},{default:()=>[a("WEB")]}),e("br",null,null),e("p",null,[r.value])])]),e("hr",null,null),e("br",null,null),e("p",null,[a("极速包通信桥测试")]),e("select",{value:g.value,onChange:t=>{var d;const l=((d=t.target)==null?void 0:d.value)||"";g.value=l,p.value=JSON.stringify(c.value[l],null,2)}},[Object.entries(c.value).map(([t])=>e("option",{value:t},[t]))]),e("div",null,[e("textarea",{ref:S,style:{color:"black"},name:"",id:"",rows:"5",cols:"33",value:p.value,onChange:t=>{var l;try{p.value=JSON.stringify(JSON.parse((l=t.target)==null?void 0:l.value),null,2)}catch(d){S.value&&(S.value.value=p.value)}}},null),e("br",null,null),e("button",{style:{color:"black"},onClick:()=>{O("HTTP_PROXY").send(JSON.parse(p.value),{timeout:1e3*10,merge:g.value!=="NOT_MERGE"}).then(t=>{console.log("jsBridge","HTTP_PROXY",p.value,"SUCCESS",t)}).catch(t=>{console.log("jsBridge","HTTP_PROXY",p.value,"ERROR",t)})}},[a("Send Http")]),e("br",null,null),e("button",{style:{color:"black"},onClick:()=>{let t=10;clearInterval(T),T=window.setInterval(()=>{o(JSON.stringify({uuid:ee(),type:"PUSH_TEST",payload:{message:t}})),t--,t<0&&clearInterval(T)},1e3)}},[a("Push Test")]),e("br",null,null),e("button",{style:{color:"black"},onClick:()=>{O("READ_CLIPBOARD_TEXT").send().then(t=>{var l;S.value&&(S.value.value=((l=t.payload)==null?void 0:l.value)||""),console.log("jsBridge","READ_CLIPBOARD_TEXT","SUCCESS",t)}).catch(t=>{console.log("jsBridge","READ_CLIPBOARD_TEXT","ERROR",t)})}},[a("Paste")])])])}}),xe="_devtools_1eftz_17",We="_titleNavClass_1eftz_24",L={devtools:xe,titleNavClass:We};function $e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Q(n)}const[Re]=b("pages-devtools"),Je=k({name:Re,setup(){const n=f(6),s=j(()=>[{title:"通用",render:()=>e(ve,null,null)},{title:"皮肤",render:()=>e(ke,null,null)},{title:"极速包",render:()=>e(_e,null,null)},{title:"finance",render:()=>e(oe,null,null)},{title:"持久化",render:()=>e(Ce,null,null)}]);return()=>{let o;return e("div",{class:L.devtools},[e(X,{active:n.value,"onUpdate:active":i=>n.value=i,swipeThreshold:5,lazyRender:!0,duration:.5,swipeable:!0,animated:!0,titleNavClass:L.titleNavClass},$e(o=s.value.map(i=>e(Y,{title:i.title,content:i.render},null)))?o:{default:()=>[o]})])}}});export{Je as default};
//# sourceMappingURL=DevtoolsIndex.C5O0BEru.js.map
