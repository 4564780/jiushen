import{A,N as y,S as E,d as N}from"./SearchInput.BLw6ZOYB.js";import{a as v,c as t}from"./enum.CisFEKyB.js";import{aE as w,a as g,q as x,cp as W,B as G,cs as k,bg as O,v as q,az as C}from"./main.C8q1iJMV.js";import{u as D}from"./index.BQg7GMmP.js";import{c as B}from"./DateSelectIndex.Czbvh5sB.js";import{l as T,p as e,f as P,v as $,r as f,a as F}from"../vendors/vendor-@vue.DNlpgob2.js";import"../vendors/vendor-stable.LD58Pbb3.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";import"../vendors/vendor-default.CjiYZF7Q.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";import"./index.CnQRgKzx.js";import"./index.DpvTgJML.js";const j=s=>w.request({url:"/promote/transferhistory",method:"POST",data:s},{token:{type:"loginOnly"},oss:{enable:!1}}).then(d=>{var a;return(a=d==null?void 0:d.data)==null?void 0:a.data}),z="_row_1ds37_1",Y="_col_1ds37_1",H="_value_1ds37_1",U="_list_1ds37_40",J="_reverse_1ds37_1",K="_modal_1ds37_1",Q="_header_1ds37_21",r={"prmote-base-layout":"_prmote-base-layout_1ds37_18","search-tools":"_search-tools_1ds37_26","list-item":"_list-item_1ds37_1",row:z,col:Y,value:H,list:U,reverse:J,"list-modal":"_list-modal_1ds37_1",modal:K,"modal-header":"_modal-header_1ds37_1",header:Q,"total-amount":"_total-amount_1ds37_30"},[X]=x("list-item"),Z=T({name:X,props:{listItem:{type:Object,default:null}},setup(s){const{t:d}=g();return()=>{const{transfer_time:a,amount:o,remark:p,useridx:u,username:c}=s.listItem;return e("div",{class:r["list-item"]},[e("div",{class:r.row},[e("span",{class:r.col},[e(A,{userIdx:u,account:c},null)]),e("span",{class:r.col},[e(y,{class:r.value,text:o,type:v.Money},null)])]),e("div",{class:r.row},[e("span",{class:r.col},[e(y,{text:a,type:v.Time},null)]),e("span",{class:r.col},[e("label",null,[d("lobby.promote.transferRecord.remark")]),e(y,{text:p,type:v.Normal},null)])])])}}}),ee="_noneData_fib7q_17",ae="_more_fib7q_17",V={noneData:ee,more:ae},[te]=x("no-data-message"),oe=T({name:te,props:{selectValues:{type:Number,required:!0}},emits:["moreClick"],setup(s,{emit:d}){const{t:a}=g(),o=a("lobby.event.luckyWheel.tabs.noData"),p=a("lobby.center.components.dateRadio.can"),u={[t.Yesterday]:{text:a("lobby.center.components.dateRadio.yesterday"),more:a("lobby.game.galaxyGold.seeMore"),moreValue:t.All},[t.Today]:{text:a("lobby.center.components.dateRadio.today"),more:a("lobby.game.galaxyGold.seeMore"),moreValue:t.All},[t.ThisWeek]:{text:a("lobby.center.components.dateRadio.thisWeek"),more:a("lobby.game.galaxyGold.seeMore"),moreValue:t.All},[t.LastWeek]:{text:a("lobby.center.components.dateRadio.lastWeek"),more:a("lobby.game.galaxyGold.seeMore"),moreValue:t.All},[t.ThisMonth]:{text:a("lobby.center.components.dateRadio.thisMonth"),more:a("lobby.game.galaxyGold.seeMore"),moreValue:t.All},[t.LastMonth]:{text:a("lobby.center.components.dateRadio.lastMonth"),more:a("lobby.game.galaxyGold.seeMore"),moreValue:t.All}},c=P(()=>{var m;return(m=u[s.selectValues])!=null?m:null}),h=()=>{d("moreClick",c.value.moreValue)};return()=>{var m,b;return e("div",{class:V.noneData},[((m=c.value)==null?void 0:m.text)&&e("span",null,[c.value.text]),e("span",null,[o]),((b=c.value)==null?void 0:b.more)&&e("span",null,[$("ï¼Œ"),p,e("span",{class:V.more,onClick:h},[c.value.more])])])}}}),[le]=x("transfer-record"),xe=T({name:le,setup(){const{t:s}=g(),d=D(),a=f(),o=W(j,{immediate:!1,transformFn:l=>{var n;return a.value=l,{data:(n=l.list)!=null?n:[],total:l.total_records}},defaultPageSize:20}),p=()=>{C().hasLogined&&o.loadData()},u=()=>{C().hasLogined&&(o.reset(),o.loadData())},c=t.Today;o.payload.value={timeEnum:c};const h=l=>{var n,i;o.payload.value={timeEnum:l.timeEnum},(n=m.value)!=null&&n.searchVal.value?b((i=m.value)==null?void 0:i.searchVal.value):u()},m=f(),b=l=>{const{lowDisplay:n}=D();n.showType==N.ID?o.payload.value={...o.payload.value,member_useridx:Number(l)}:o.payload.value={...o.payload.value,member_username:l},u()},_=f(),I=l=>{var n;(n=_.value)==null||n.onTypeChange(l)},L=()=>{var l,n;(l=m.value)==null||l.setSearchVal(""),(n=_.value)==null||n.onTypeChange(c)};F(()=>{L(),d.sensitiveDataConfig||d.getSensitiveData()});const S=[{value:t.Today,label:()=>s("lobby.center.components.dateRadio.today")},{value:t.Yesterday,label:()=>s("lobby.center.components.dateRadio.yesterday")},{value:t.ThisWeek,label:()=>s("lobby.center.components.dateRadio.thisWeek")},{value:t.LastWeek,label:()=>s("lobby.center.components.dateRadio.lastWeek")},{value:t.ThisMonth,label:()=>s("lobby.center.components.dateRadio.thisMonth")},{value:t.LastMonth,label:()=>s("lobby.center.components.dateRadio.lastMonth")},{value:t.All,label:()=>s("lobby.center.components.dateRadio.all")},{value:t.Custom,label:()=>s("lobby.center.components.dateRadio.custom"),isCustom:!0}];return()=>e(q,null,{header:()=>e(G,null,{default:()=>s("lobby.promote.bankTransferRecord")}),default:()=>e("div",{class:r["prmote-base-layout"]},[!o.listError.value&&e(k,{class:r.header,draggable:!0,direction:"x",scrollbarTrigger:"none"},{default:()=>{var l;return[e("div",{class:r["search-tools"]},[e(B,{ref:_,onTypeChange:n=>h(n),options:S,defaultOption:c},null),e(E,{ref:m,lodaing:o.loading.value,onSearch:b,animation:!1,placeholderID:s("lobby.promote.promote.searchMemberID"),placeholderAccount:s("lobby.promote.agentTransfer.usernamePlaceholder")},null)]),e("div",{class:r["total-amount"]},[e("div",null,[s("lobby.promote.transferRecord.totalTransferAmount")]),e(y,{class:r.value,text:(l=a.value)==null?void 0:l.transfer_total,type:v.Money},null)])]}}),e(k,{class:r.list},{default:()=>{var l,n;return[e(O,{finished:o.finished.value,error:!!o.listError.value,loading:o.loading.value,onLoad:p,onRetry:u,emptyText:e(oe,{selectValues:(n=(l=o.payload)==null?void 0:l.value)==null?void 0:n.timeEnum,onMoreClick:i=>I(i)},null)},{default:()=>{var i,M;return[(M=(i=o.list)==null?void 0:i.value)==null?void 0:M.map(R=>e(Z,{listItem:R,key:R.idx},null))]}})]}})])})}});export{xe as default};
//# sourceMappingURL=TransferRecordIndex.CQTnz4r5.js.map
