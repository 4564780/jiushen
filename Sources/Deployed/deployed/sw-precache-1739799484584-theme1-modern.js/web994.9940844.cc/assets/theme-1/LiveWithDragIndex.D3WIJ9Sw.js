import{hh as f,a as p,m as h,a6 as x,q as v,w as E,b7 as L,I as g}from"./main.C8q1iJMV.js";import{l as y,h as S,r as s,L as P,p as e,F as I,a6 as T,c0 as w,f as N,v as q}from"../vendors/vendor-@vue.DNlpgob2.js";import"../vendors/vendor-default.CjiYZF7Q.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-stable.LD58Pbb3.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";const b={poster:{type:String},videoUrl:{type:String,default:"",required:!0},type:{type:String,default:f.INSIDE}},z="_iframe_15q6b_25",m={"live-box":"_live-box_15q6b_17",iframe:z},[D]=v("sport-live"),C=y({name:D,props:b,setup(a){const{t:i}=p(),{language:l}=h(),t=S({loading:!0,isPlaying:!1,isLiveEnded:!1}),o=()=>{t.loading&&(E.error(i("lobby.game.liveError")),t.loading=!1,t.isPlaying=!1)},u=s(null),r=s(null),c=s(!0),_=P(r,d=>{d.length>3&&(c.value=!1,_.stop())},{childList:!0,subtree:!0});return()=>e("div",{class:m["live-box"]},[e(x,{type:c.value?"nested-loading":void 0},{default:()=>[a.type===f.OUTSIDE?e(I,null,[e("iframe",{src:a.videoUrl,onLoad:()=>c.value=!1,class:m.iframe},null)]):e("div",{ref:r},[e(T("live-player"),{language:l==="zh"||l==="zh_hk"?"zh-CN":"en",ref:u,onPlay:()=>{t.loading=!1,t.isPlaying=!0},onEnded:()=>{t.isLiveEnded=!0,t.isPlaying=!1},onMessage:d=>{d.type==="error"&&o()},stretch:!0,"video-url":a.videoUrl,poster:a.poster,autoplay:!0,controls:!0,live:!0,muted:!1,"show-custom-button":!1,"hide-big-play-button":!0},null)])]})])}}),U="_close_12ny3_43",n={"drag-box":"_drag-box_12ny3_17","drag-button":"_drag-button_12ny3_24","drag-image":"_drag-image_12ny3_39",close:U},[R]=v("sport-live-with-drag"),G=y({name:R,props:{offsetTop:{type:[String,Number],default:0},...b},emits:["close"],setup(a,{emit:i}){const{t:l}=p(),t=s(null),o=s(null),{style:u}=w(o,{initialValue:{x:0,y:L(a.offsetTop)},axis:"y",containerElement:document.querySelector("body"),disabled:!1,preventDefault:!0}),r=N(()=>u.value.replace("left:0px;",""));return()=>e("div",{class:n["drag-box"],style:r.value,ref:t},[e("div",{class:n["drag-button"],ref:o},[e(g,{src:"/lobby_asset/common/web/selfoperated-games/icon_sjb_drag.svg",class:n["drag-image"],lazy:!1},null),e("p",null,[q(" "),l("lobby.game.drag")])]),e(g,{src:"/lobby_asset/common/web/common/comm_icon_x.svg",class:n.close,lazy:!1,onClick:()=>{i("close")}},null),e(C,a,null)])}});export{G as default};
//# sourceMappingURL=LiveWithDragIndex.D3WIJ9Sw.js.map
