import{hC as w,a as h,m as A,bU as B,gl as S,i1 as c,A as T,bY as v,E as C,bW as W,g2 as I,fI as D,q as M}from"./main.C8q1iJMV.js";import{u as N}from"./useMaps.B2Lbsw_2.js";import{l as E,f as k,r as R,p as F}from"../vendors/vendor-@vue.DNlpgob2.js";import"../vendors/vendor-default.CjiYZF7Q.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-stable.LD58Pbb3.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";const[O]=M("pages-dialogs-security-force-binding"),_=E({name:O,setup(){const{visible:p,openOptions:l,onDialogOpen:y,closeDialog:m}=w("securityForceBinding"),{t:i}=h(),b=N(),{isCN:g}=A(),{validateConfigStatus:f}=B(),{setQuery:n,getList:d}=S(),s=k(()=>{var t,a;return(a=(t=l.value)==null?void 0:t.type)!=null?a:c.Seurity}),e=R(d(s.value));return y(()=>{e.value=d(s.value),e.value.allList.length||m("securityForceBinding")}),()=>F(D,{show:p.value,"onUpdate:show":t=>p.value=t,type:"error",title:()=>i("lobby.modal.title.error"),showCloseButton:!!e.value.allList.length&&!e.value.mastList.length,showConfirmButton:!0,closeOnRouteChange:!1,confirmButtonText:()=>i("lobby.modal.pay.bindBtn"),message:()=>{const t=i("lobby.center.security.forceBindAnd");if(s.value===c.LargeBalances)return i("lobby.center.security.LargeBalancesBindTitle");const a=e.value.allList.map(L=>b[L].bind()),o=a.pop(),r=g?" ":"",u=[a.join("ã€"),o].filter(Boolean).join("".concat(r).concat(t));return s.value===c.Withdraw?e.value.allList.length===1?i("lobby.center.security.forceBindTitle",{bindItem:u}):i("lobby.center.security.forceBindItemTitle",{bindItem:u,length:1}):i("lobby.center.security.forceBindTitle",{bindItem:u})},beforeClose:async t=>{var a,o,r;switch(t){case"close":I().setIgnoreSecurityBindkey();break;case"confirm":if(T.lock(),e.value.allList[0]===v.WITHDRAWACCOUNT){if(f()[v.WITHDRAWPASS]){await n({type:s.value,name:C.WITHDRAW,active:W.ACCOUNT_MANAGEMENT,allList:e.value.allList,unMastList:e.value.unMastList,withdrawActive:(a=l.value)==null?void 0:a.withdrawActive});break}await n({type:s.value,active:v.WITHDRAWPASS,allList:e.value.allList,unMastList:e.value.unMastList,withdrawActive:(o=l.value)==null?void 0:o.withdrawActive});break}await n({type:s.value,active:e.value.allList[0],allList:e.value.allList,unMastList:e.value.unMastList,withdrawActive:(r=l.value)==null?void 0:r.withdrawActive});break}return!0}},null)}});export{_ as default};
//# sourceMappingURL=SecurityForceBinding.yk0tU8Md.js.map
