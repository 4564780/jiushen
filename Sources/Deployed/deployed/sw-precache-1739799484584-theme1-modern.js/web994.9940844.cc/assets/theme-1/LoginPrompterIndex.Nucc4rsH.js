import{u as h,a as y,kq as v,aB as k,bI as S,c3 as L,Y as x,kr as f,aa as N,bV as P}from"./main.C8q1iJMV.js";import{s as R}from"../vendors/vendor-stable.LD58Pbb3.js";import{l as T,f as g,p as a,C as A}from"../vendors/vendor-@vue.DNlpgob2.js";import"../vendors/vendor-default.CjiYZF7Q.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";const I="_loginPrompter_7v11q_17",O="_content_7v11q_17",q="_footer_7v11q_28",B="_button_7v11q_31",c={loginPrompter:I,content:O,footer:q,button:B};function D(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!A(o)}const J=T({setup(){const{dialogsStates:{loginPrompter:o}}=h(),{t:l}=y(),s=v(),{discountRedDot:i}=k(),b=S(),{constantTaskDataMapper:d}=R(b),w=g(()=>{var r,e,u;return((u=(e=(r=d.value)==null?void 0:r[L.newBenefits])==null?void 0:e.rules)!=null?u:[]).reduce((p,m)=>p.reward>m.reward?p:m,{reward:1}).reward}),_=g(()=>{var t;return(t=s.stochasticAllocation)==null?void 0:t.content.replace("{{newUserGiftMaxAmount}}",String(w.value)).replace("{{waitGiftCount}}",String((i==null?void 0:i.receiveLogCount)||1))}),C=()=>{var n;const{openLoginRegister:t}=P();((n=s.stochasticAllocation)==null?void 0:n.scenes)===f.NOTLOGIN?t({register:!0}):t({login:!0}),o.show=!1,s.countDown()};return()=>{var n,r;let t;return a(N,{class:c.loginPrompter,title:l("lobby.common.tips.title"),show:o.show,"onUpdate:show":e=>o.show=e,overlay:!0,closeControl:{autoCloseAfterEnabled:!1,delayBeforeEnabled:((r=(n=s.stochasticAllocation)==null?void 0:n.exhibitTime)!=null?r:0)*1e3},onClose:()=>{s.countDown()}},{default:()=>{var e;return[a("div",{class:c.content},[a("span",null,[_.value])]),a("div",{class:c.footer},[a(x,{class:c.button,type:"primary",block:!0,onClick:C},D(t=l(((e=s.stochasticAllocation)==null?void 0:e.scenes)===f.NOTLOGIN?"lobby.tabbar.register":"lobby.tabbar.login"))?t:{default:()=>[t]})])]}})}}});export{J as default};
//# sourceMappingURL=LoginPrompterIndex.Nucc4rsH.js.map
