import{u as O,I as D,b8 as L,ir as R,U as N}from"./main.C8q1iJMV.js";import{J as _}from"../vendors/vendor-default.CjiYZF7Q.js";import{l as k,r as f,f as z,w as P,p as t}from"../vendors/vendor-@vue.DNlpgob2.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-stable.LD58Pbb3.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";const U={context:{type:String,default:"iframe"}},[B,s]=N("iframe-popup"),G=k({name:B,props:U,setup(I){const{dialogsStates:{[I.context]:e}}=O(),d=f(null),u=f("100%"),m=f(!0),h=z({get(){var o;return(o=e.options)!=null&&o.showLoading?m.value:!1},set(o){m.value=o}}),S=()=>{var a,l,i;m.value=!1;const o=(l=(a=d.value)==null?void 0:a.contentDocument)==null?void 0:l.body;if(!(!o||(i=e.options)!=null&&i.fullScreen))try{const r=Date.now(),c=()=>{if(Date.now()-r>1e3*10)return;const p=Math.ceil(o.getBoundingClientRect().height||0)+"px";p!==u.value&&(u.value=p),_(c)};c()}catch(r){}};return P(()=>e.show,o=>{o||(m.value=!0)}),()=>{var o,a,l,i,r,c,p,g,v,b;return t(R,{style:(o=e.options)==null?void 0:o.style,show:e.show,"onUpdate:show":n=>e.show=n,closeOnRouteChange:(a=e.options)==null?void 0:a.closeOnRouteChange,beforeClose:(l=e.options)==null?void 0:l.beforeClose,zIndex:(i=e.options)==null?void 0:i.zIndex,position:(r=e.options)==null?void 0:r.position,class:[s({fullscreen:(c=e.options)==null?void 0:c.fullScreen,scrollable:(g=(p=e.options)==null?void 0:p.scrollable)!=null?g:!0}),(v=e.options)==null?void 0:v.className],closeOnClickOverlay:!!((b=e.options)!=null&&b.closable)},{default:()=>{var n,w,x,y,C;return[(w=(n=e.options)==null?void 0:n.header)==null?void 0:w.call(n),((x=e.options)==null?void 0:x.title)&&t("header",{class:s("header")},[t("span",{class:s("btn-close"),onClick:()=>e.show=!1},[t(D,{src:"/lobby_asset/common/web/common/comm_icon_fh.svg"},null)]),t("p",{class:s("title")},[e.options.title])]),t("div",{class:s("content"),style:{flex:(y=e.options)!=null&&y.fullScreen?1:"none",height:u.value}},[h.value&&t(L,{class:s("loading")},null),t("iframe",{ref:d,onLoad:S,src:(C=e.options)==null?void 0:C.src,class:s("iframe",{loading:h.value})},null)])]}})}}});export{G as default};
//# sourceMappingURL=IframeIndex.CgzBJvIH.js.map
