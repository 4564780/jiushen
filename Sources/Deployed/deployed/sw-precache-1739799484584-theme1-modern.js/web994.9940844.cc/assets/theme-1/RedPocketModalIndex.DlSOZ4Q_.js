var ge=Object.defineProperty;var be=(a,e,t)=>e in a?ge(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var o=(a,e,t)=>be(a,typeof e!="symbol"?e+"":e,t);import{jG as g,jH as j,jI as x,I as M,cH as I,U as q,a as X,w as $,ai as Q,t as U,jJ as D,jK as ie,bq as ve,Z as ye,jL as B,jM as Y,jN as re,aa as J,dE as ke,dF as fe,jO as Ce,bL as we,ca as Re,jP as ce,bN as xe,al as Ie,jQ as H,cX as ae,aq as ne,az as he,jR as Ae,u as Be,cx as Se,E as O,jS as Me,ir as Ee,q as De}from"./main.C8q1iJMV.js";import{s as Z,u as Fe}from"../vendors/vendor-stable.LD58Pbb3.js";import{l as F,f as b,p as i,r as P,v as Ge,n as ee,F as te,t as de,o as Te,e as je,d as Je,w as Qe,D as Ye}from"../vendors/vendor-@vue.DNlpgob2.js";import{e as ue,J as z,a1 as _}from"../vendors/vendor-default.CjiYZF7Q.js";import{J as S,a1 as oe,c as Pe}from"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";const qe={[g.RedPocket]:{src:"/lobby_asset/common/common/event/hongbao_img_hbd_s.png",width:380,height:509},[g.TreasureBox1]:{src:"/lobby_asset/common/common/event/hongbao_style_4_img1.png",width:360,height:338},[g.GiftBag]:{src:"/lobby_asset/common/common/event/hongbao_style_3_img1.png",width:504,height:352},[g.LuckyBag]:{src:"/lobby_asset/common/common/event/hongbao_style_2_img1.png",width:380,height:450},[g.TreasureBox2]:{src:"/lobby_asset/common/common/event/hongbao_style_5_img1.png",width:360,height:338}},Ue={[g.RedPocket]:{src:"/lobby_asset/common/common/event/hongbao_img_hbd_s.png",width:380,height:509},[g.TreasureBox1]:{src:"/lobby_asset/common/common/event/hongbao_style_4_img2.png",width:400,height:501},[g.GiftBag]:{src:"/lobby_asset/common/common/event/hongbao_style_3_img2.png",width:538,height:501},[g.LuckyBag]:{src:"/lobby_asset/common/common/event/hongbao_style_2_img1.png",width:510,height:603},[g.TreasureBox2]:{src:"/lobby_asset/common/common/event/hongbao_style_5_img2.png",width:400,height:466}},Xe={[g.RedPocket]:{src:"/lobby_asset/common/common/event/hongbao_img_gxhbd_s.png",width:380,height:509},[g.TreasureBox1]:{src:"/lobby_asset/common/web/animated/apng_event_hb_style_4.png",width:540,height:960},[g.GiftBag]:{src:"/lobby_asset/common/web/animated/apng_event_hb_style_3.png",width:540,height:960},[g.LuckyBag]:{src:"/lobby_asset/common/web/animated/apng_event_hb_style_2.png",width:540,height:960},[g.TreasureBox2]:{src:"/lobby_asset/common/web/animated/apng_event_hb_style_5.png",width:540,height:960}},Le={selector:document.body,interval:100,eventType:"click",defaultCount:10,rotationMode:j.Rotate,redpack:{speedMin:3,speedMax:5,imgUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABeCAYAAACeq2JyAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAEQZJREFUeJzdnNmzHFUdx3+ne3rmrgkhMYTcFIIiIAIJm7m5JBCzgIVllVBavvrgn4CUPoEWPvA3+OKjDxTFiwuaoiy2JIgQiJJASkDJQkISs9xlbs90t7+zL316m5kLF09l7vSc3s759O/3/f3O6e4QwHJwz465sBU+G4ThvWFACP6DIAjwQwB/4TcALuEf9hf4nyFKlvmrnXXWVs4+3iOIbfzr6OoMUvzI7zQVy2kKCVakSfpKP02eePCvbxwlBx+d20/i4MUwRARIIKRAQg4loDjYN2VCGBAiqQwJJ7P/2B0aFE4RGAqF/kkNMLQ61YAoHPrdR0JkDLaR1/bseDcMwztDhEE/1FpCZjHcaigQ/uEsGKAhSymAIihV68R6vy0KCMChZIxRZoDhUBLxnZLsAHlt71wPwbTQhZi1hAJIQDiEwACjXAn48rCl0HVqwskfMA8mE1aZZQ4U6VaO1SQcUEzBxAgkaoUcCtUUDocDYd9AlCvRQkxAtSmUd7ZWXdW6gnoTigKC9UpjMsNaOJwuutJc3GoFEXMhoS/SlaTFAPsGDiYjwxmLTwcK6lYMDBjLpjtRQAmDJMCECCZwwBDbYkRQAia/NcCURQ1rm6auVARAdNxnytRdMgMGtxK+j3SjJJMWY4JBVwpCAYa5ErBoZLkSgIpKZWBKFKC8U87vwmM1tBZaqDXIwyqLSe3wnaRZ3pUwGkVSfAMJI7CFVwPxgCnLSzwdyK1rqDGZ53y+OllcMExfMmFJ1FIyEC6VmhazA8GEAowWX2UxRIqtLb5uR/MtBbV9zkUyJlVWXWbuBxUW43OZCn2xwYjoZIhvxtxJWg1azKsIpsUsRlqLSO7wxFJ4Ky3GaaDVR88611pSs59lbgT6ihO7snx7EwxojVHfqbQa/s0shoEJuCuxjJfwHEZGJUJ0eOaN4XWlWlLSOcvkVzhMy/o8GN42lcMoOFJ8Mw2GRaWQZ7qhEFwuvKAsRnlTqfoWpeV5gR0JFOAJm69Fst4LRgkv6JCtEz0bTKCyXiI+oCyGo+FGXGoxdcA0haI28WxRQ6R19ltiMYYIK1dCC4m8wwEQYVs6UYnGFEUFb67i5jMlEaX02CX7meu8YEyLyQuwBBMYUUlYjsx6ASzxLcihanfA3WZQKE3WWWCYb2kwqbmsx002GAVETjkYrsStRruS3QgAn3PVgTCKjufX2e2xLUbvq+ZkQOoM8Fwm8YIRUYmw2SnlVrSYUUnlGnmxcOp922WF6U/5ujrrfRdE72cNDUDkMpBpMLbGIBhqKSGfi+GJHQWTqeyXFmko0mJ8UHIA+Jdd44+tuW2921RB8Rxf6pq0FjsDNiavUm4xPFx/h2a+XHxZyCZy1k6MquW0JoCKSl6RqQrHTXOQpttAmcaxv5bFpMKvLDAiyfOC0aGaCFfSmqLshuTOWj4ILAjPuf0G2cbavB4YCcSOTh4wLQQTOGBk1usDo11pMHEdJhINsn2hxtSyGCq6YX0wVVAGAVJ3m+bHZH8HBWMOIIvB0IPlw3VzSIN0cNDtBwQzy+Zj1NSmFFwSaDD6FODmMdVQ5H7DdW6Y/eqB0XmNASaMZGIXKksJdHLn3EqidfnGeUJ1QfsHA1Idqgv3lCJeaTEumIDPxxATTBCo+0jECUSWKxlKL5NjX3BVliO3a9AheZ5Bb/L5wOTCdW6iSoEhCkwgchkTDEB1VGpS16RDw5aRgNHTDXqULVOXMldajUDc440eDEgoefEt6sggnRs1EPe4zcDsno0DFa7d+0nNXalJB1cKRNF5hgJDDI2RTzlYYEQe4+1SNrpxzyhLWVRy52KSYouhYTrT4RpMjfHkMfafksZVb7NSxZfHuGMlY2TNwbyye5ZlvnrwKB4UIsR5LsaIluqeUI1GFU4zfH5FWQxISxEzd+K3MXMnb9V6wBhzvtRCyjSmqiGrpXjvK6VNwTB94S7kD9fFYFYbEFkGBLOdhWtzjKQfGqoBxjDT1Vp8YOhN/VRUpiIiZWVggkowOrdZrRbiFhdMKsCYFjM4GBVVhnxw6AsoIwejb52ww9YW39VW3HCtHgEBH5jMB4aoianicP1lBGOHaznNkGU07opnYhislINJTDAGFDUsaBiVVmtxn4/Rj7XSwXAJmCDIj5UkmOD/EIzSGQeM8YAignloe24Q2dxinJmrVVYGAvMyggkbg3HmOktbVfjjcysrDKbmo2a1WppbMIqYHx10HtM7rboSYMSTz3redwU1RvZpmON7oI8WjCHE9cTXrfyih9TGIgNj38xXI+zcWImCSbn4qnvX5mSVekaGp71+V2p6ab8AWJkPjIABeTDqMRCexxg39QUgM5+R0w/KZpqIr9PImpVOqTpR1SQZn3xhSNSDQmldMCG/4Ra4OYye+wXQYpxvenHjKyczq9g04lJDfOWsnVwuBBMGUct1JcNi3Kgkfw9bVmT21wPJK77GI2Z6jGQ8Ms9vn3g0RoHhT1bp5/AMV2I/zIYUwfIAWBEmmVsBUltcjckKNCZhN/XLwJhRCYxRNnGj0khiq11FjFWNk0gHUGZaDPtRCCYxXYmCaQXiwSEiNCYIbFcC8zaK1Biv0NTozUpMjmfeRZ8rgdQW4x3JajDi1ZxiV6KFC7IqBZAq0PhrRgLMPZZ2JWk9qWkx8j0lfevEcCXx9knuppv4zToqNcayGl0Kxbhm3jeUEJdFJWElmWE95oNC+aiUmu8rBeqJqpANAwL9LqQCIztvQ6n3urFvm9H4U/G8s2k5mfLgzHAlpTVG1mu/LCpvnygwobrp5hNf1d1CKEVRq7j9nh+Nix9SpuCYeYxtMamhMT4w4kVRU3zBI76VQEY2+vYc3o1anh1ygIyopO9ZpwXvEQgwr7N3IqX4SovRt2tleFZQPPri0xy7N1WluaW4fSfe0G9EI+VOpsXYriTB9CmYg3vn1MOJ8vasGi8FHleyIBRZSA0YtFEJxgX6Vl2nxT60pMt9SLs9+v4dkDDgLzO4uxZWZEBccxKj6bzVaFfKfFFJgjEfZ2WuBFABpsByqvgwIBlEm9bAxG2bYPK26yDaOA3hWMRWJwimd/YKLBw/C0vHz8DymSsIiJmxOpzfvrSWuHCUa1muVCy+7PbJwX0PiMzXGFkXaUwhlBpAsDLtJRCum4BrH/4mXLP9RggQRobWQRtnbUkvCK6jlnPpjY/h4ovvQfLfJSCtQB+/aKQu6lmzTSBytYQjXcrjSkxjDiGYQD4ZbrgSscDoe036rOqctcZLadyHMbSOmZ/sgNZkGzK0jDqFoIv1F2M4/dtDsPT+WcDhroYA+UUJhyh4TlQyNEZaTmq8KGqA2cksRs/F6DxGwiAGHAuMgJKVAGFQ0FLG79oMW346B6Tbd3tSBw/AeAQnf/M6LB49jXBCZ707zDDh2FZjaowCY0ARTzwgmP0SjPG4vDF7Z/2HOiqXMfomKgrTLDxRuHEKbnpyH0BNK/EfCLVjog0fPnsA0nPzHlF24GTm5dICrKY2Uzs6KVdKmPUIME5Uyouvby4mKwZitLmHFvL1p74LEXYqF2MHKL2lHnz4zJ+hlbMaDsCMUHkrMtxJjJXAdCOpMXQy/PCju+IwIRH7rwtCYSXOPWwXTK73uSpxnfopTM7eAJsfu4uF4VEUKtinnjsCi4f/A8QHx4RvXYhMT3EKKwEJSELp87CdtqFLjjzxUJwtkAguYecXsEsJt4cg1O8SgDE00BCKwOj6eGEZbn76EWi1W8Nnw7p/0Ech/9czByDqtDzrq8AY4ToVrkPX0WxhCvu5Dps6TocEu++O21s6UWtjB1pjeKIFBHIZd5xHn45BT2mGegaPOVEFGPo3mWrDN362G8PuaKxFltZ0B47/+gCECz3PWsOFDDCZdKVEaAttYAc/07iwFiVhHAEt9iD+dBl6p5a75NXtW2M0+Yi9R7CmBe0t4xBd14EIQyrpo6lSSFeQ6SJ6ZC9jDxCx0wWGGFtwRA1ejfbW6+GGx++AZMRgQrSUfz9/FOIjZ3Ru4wFDAZBUQKHNamN7J/HCr8Ef+EmDBPpXY4jPdCE+vQTpfJ9f9JCgxcxuRbuASB0XO0+VN5hESJvGoDMzCdE6tKZxxLuMB7ycQHI1gZR+uilL3bmKCSb87VLMWxK45nu3wob7tjCtGWnBi3L+7yfh0u/fZ5DU9KVK7nABgQXj+JnG4caaEMh0gNqBwoo5UXxhCZY/WYT4XBfSpYTv07IuMWa+s9s4GOJJ1qjZoSAFbRTmtW3oXD8BYzNTEK1Hq5rsIIMQsgU82RUc31ztQ4LE06U+A9a7ugwbfvgtWHf7xlxmO2yhdnrx2Fm48PwxiKbbOJwIIZhAANMRhNMhg0EmAkj6PejNo2ucX4TuyXlY/nQRLypm2j0ch0XGOEz0W6Y9hII5tONuBEOlxxjTM3/hv/nIg2dL9Mqn+MHgDuFEBO31E9DZPAlj109D+1qENTXGxjwUWLKAZrlmEqbXT5VMJg1erl6YBzK/CC0EkqboEksxukUXlimEM1fxswC9i0vsQtF2UxBEWLPWHjvt0Nkygjk8d49wJe9ER0Edr2ci1k+YoLGcB8NniAJOIXUwqetsnYHNd87glRutK9GIefqdT6B75BTEny1AfGmJpQPUEqh1khCtJlJpuvhucnFQY9544B5bY0ZQmDliotS7bhru//leHOv4osfgJVozBod/9SeIzi3wqYlRpQK6dMnfdt4b43Ejk6eb8RetA6deFml7l1HoZp99FCHlRppDlIxZ5qFf/BGmW6EaqxUOuCvayeqkcujSJW/uug/BSI3xtoN/Gat9EKxv8WMZ0/eNj98OM/fOMG0aRaHDlk8wIp1/4Ri0xyPtKHLQaLQl1w9jvexHwSXrkrd23a+ikj6IKdPiUOZZrXG9saNz6egm5zFL3fk0TfKS4Y0G20WnLF556iW4ttUyTu/pngnCmoYQxSc9pvi+/SAFQ/IaozI5s86M6QXczf1w+x7mM+SODXDnY7di5BhOayKMhO88dwzgvYsQtUN9kXLts3upf4vt5XZqE8fmCYrvkYe+bYlvXX2pu44G+0uYS2z6/tfghm0bIVlOGqDQhWW7b30K5/7wEaydamsX97TFLXX1R24L1GLe3b1dgfEFavfkRd7gh8KXadL+GSZ8G/dtgVt2bIZ4vucfhHoPnGF+FMGJ10/DZy+dhPVTncLzmb99Igvgb7/H9rvk6O7ZGJei3JZl6lV7jV0uY9hOZsZh2w9ugg66Qo9ZTzHqCDPaGLd5+4WPIDi1BNdMNM8qiiBVtLdL/rFnB898ZdhxQwyrcyRd5c4emZcVMpV0xDvG6HS+24PpW6bhxvu+AmvXd/ikk9QG3KyPidrlC8vw8Zvn4eqJK7Chg1m2OVhU2zrHz7XXbbeIy64rWH3IOJh/7pkTQwLI26UqTby0RsFOxL0ELtNbJTh4I+MhDlL5pBOd8cuWUmjjYHYN6konN3qudYKG7c0JQJe8t3du5Jlv0+bwRzN4Uf+bGoz0UjQtXXJs3wMajM8hq1S3qlQdoywXcfenhRQ10nvQZg3UbtYlx00wbrEu2yDXsGyfQQZ3ozhGrX50yfv7dzZ2pVGOfFZpWSYf7N+lxdcsModWluaYby56kXy27D2Gx7dklDPmgvhMkHGczN0e9PnM9uWOpderYxI+ZULMY4lji2265IOHd2GODbepNoDuW9XwwmeUrpz4BhBQc79B1/sGK0XbF5RXyYmHd/0YF36nxwnGrr6Zt9z4oupsdXy67HIA5Mc2vu0K2gNutWvZst9mf8kutuuJRx78ES78Ehe/imtHOvPzJdIjmoafwM+TN7/48l/+B206pex1kb/fAAAAAElFTkSuQmCC",width:70,height:94},bubble:null,onClick:()=>{}},Ve={animation:!1,result:void 0,pinVerify:void 0,showClose:!0},He="_mask_c6t8a_17",We="_wrap_c6t8a_26",Ne="_pocket_c6t8a_38",Oe="_container_c6t8a_44",Ke="_title_c6t8a_51",Ze="_animation_c6t8a_59",ze="_keyboard_c6t8a_66",_e="_text_c6t8a_66",$e="_message_c6t8a_69",et="_close_c6t8a_74",tt="_trigger_c6t8a_100",st="_congrats_c6t8a_116",A={mask:He,wrap:We,pocket:Ne,container:Oe,title:Ke,animation:Ze,keyboard:ze,text:_e,message:$e,close:et,"is-pin":"_is-pin_c6t8a_83",trigger:tt,"red-pocket-tip":"_red-pocket-tip_c6t8a_106",congrats:st},[it]=q("red-pocket-components-red-pocket-item-close-btn"),at=F({name:it,props:{styleType:{type:Number,required:!1,default:0},ui:{type:String,required:!0},isRedPocket:{type:Boolean,required:!0}},emits:{handleClose:null},setup(a,{emit:e}){const t=b(()=>a.ui===x.pin?A["is-pin"]:""),s=b(()=>a.ui===x.success?"is-success":""),n=b(()=>a.isRedPocket?"":"not-red-pocket");return()=>i("div",{class:[A.close,t.value]},[i("span",{class:["close-style-type".concat(a.styleType),s.value,n.value],onClick:()=>e("handleClose")},[i(M,{src:"data:image/png;base64,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",width:I(60),height:I(60),class:"background-image",tag:"div"},null)])])}}),nt="_main_164io_17",ot={main:nt},[lt]=q("red-pocket-components-red-pocket-item-grab"),rt=F({name:lt,props:{item:{type:Object,required:!0,default:()=>({})},isCollecting:{type:Boolean,required:!0,default:!1},checkCollect:{type:Boolean,required:!0},pinVerify:{type:String,required:!0,default:""},styleType:{type:Number,required:!1,default:0},redPocketGrabRef:{type:Object,required:!0}},emits:{toDetail:null,collect:null,inputError:null,updateRedPocketGrab:null},setup(a,{emit:e}){const{t}=X(),s=P(a.redPocketGrabRef.value.pin),n=b(()=>r.value===g.RedPocket),r=b(()=>a.styleType),d=b(()=>Ue[r.value]),c=p=>{a.checkCollect||s.value.length>3||(s.value=[...s.value,p],ee(()=>{m()}))},l=()=>{s.value=[]},h=()=>{s.value.pop()},m=async()=>{if(!a.checkCollect&&s.value.length===4){if(a.pinVerify!==s.value.join("")){$.error(t("lobby.event.redPocket.errorTips")),l(),e("inputError");return}e("updateRedPocketGrab",{pin:s.value}),e("collect")}},u=[Q.Animated,Q.HeartBeat,Q.Repeat.Infinite];return()=>{var p,f,C,k,y;return i("div",{class:[ot.main,"grab-box"],style:"width':".concat(I((p=d.value)==null?void 0:p.width),";height:").concat(I((f=d.value)==null?void 0:f.height))},[i(M,{class:"grab-background",width:I((C=d.value)==null?void 0:C.width),height:I((k=d.value)==null?void 0:k.height),src:(y=d.value)==null?void 0:y.src,tag:"div"},null),i("div",{class:["pin","style".concat(r.value)]},[i("div",{class:"title"},[i("span",null,[a.item.activeName])]),i("div",{class:"current"},[[0,1,2,3].map(w=>i("div",null,[s.value[w]]))]),i("div",{class:"keyboard"},[[1,2,3,4,5,6,7,8,9].map(w=>i("div",{onClick:()=>{c(w)}},[i("div",null,[w])])),i("div",{class:["text"],onClick:l},[i("div",null,[t("lobby.event.redPocket.pinReset")])]),i("div",{onClick:()=>{c(0)}},[i("div",null,[Ge("0")])]),i("div",{class:["text"],onClick:h},[i("div",null,[t("lobby.event.redPocket.pinDelete")])])]),i("div",{class:["button",...u],style:{cursor:a.isCollecting?"default":"pointer","--animate-duration":"0.7s"}},[i("div",{class:"button-center-box"},[i("span",{class:["text","pinText"]},["".concat(t("lobby.event.redPocket.pinText")).concat(n.value?"":": ")]),i("span",{class:"default"},[a.pinVerify])])])])])}}}),ct="_main_1t4lz_17",ht={main:ct},[dt]=q("red-pocket-components-red-pocket-item-send-or-open"),ut=F({name:dt,props:{item:{type:Object,required:!0,default:()=>({})},isCollecting:{type:Boolean,required:!0,default:!1},styleType:{type:Number,required:!1,default:0}},emits:{toDetail:null,collect:null},setup(a,{emit:e}){const{t}=X(),s=b(()=>{var l;return(l=a.styleType)!=null?l:g.RedPocket}),n=b(()=>qe[s.value]),r=b(()=>s.value===g.RedPocket),d=b(()=>{switch(s.value){case g.TreasureBox1:case g.TreasureBox2:return t("lobby.event.redPocket.openTreasureBox");case g.GiftBag:return t("lobby.event.redPocket.openGiftBag");case g.LuckyBag:return t("lobby.event.redPocket.openLuckyBag")}return t("lobby.event.redPocket.open")}),c=()=>{e("collect")};return()=>{const l=[Q.Animated,Q.HeartBeat,Q.Repeat.Infinite],{width:h,height:m,src:u}=n.value;return i("div",{class:["red-pocket",ht.main]},[i(M,{width:I(h),height:I(m),class:"background-image",src:u,"src-data":n.value.src,tag:"div"},null),i("div",{class:["container","style".concat(s.value)]},[i("div",{class:"title"},[i("span",null,[a.item.activeName])]),r.value?i("a",{class:["redpocket-collet-btn",...l],style:{cursor:a.isCollecting?"default":"pointer","--animate-duration":"0.7s"},onClick:c},[i(U,{html:t("lobby.event.redPocket.open"),class:"redpocket-collet-normal"},null)]):i("div",{onClick:c,class:["redpocket-collet-btn",...l],style:{"--animate-duration":"0.7s"}},[i(U,{class:"redpocket-collet-notNormal",html:d.value},null)])])])}}}),pt="_main_1ttib_17",mt={main:pt},[gt]=q("red-pocket-components-red-pocket-item-success"),bt=F({name:gt,props:{prize:{type:Number,required:!0},activeName:{type:String,required:!0,default:""},styleType:{type:Number,required:!1,default:0},type:{type:String,require:!0,default:D.Grab},item:{type:Object,required:!0}},setup(a){console.log("props",a);const{t:e}=X(),t=P(!0),s=b(()=>{var h;return(h=a.styleType)!=null?h:g.RedPocket}),n=b(()=>Xe[s.value]),r=b(()=>s.value===g.RedPocket),d=b(()=>s.value===g.LuckyBag||s.value===g.TreasureBox2?ie.One:ie.Zero),c=b(()=>!a.prize),l=()=>{$({message:e("lobby.event.invest.receiveSuccess"),type:"success"}),B(a.type,a.item,!1)};return()=>{const{width:h,height:m,src:u}=n.value;return i("div",{class:[mt.main,"red-pocket-recerve-success"]},[r.value?i(M,{class:"background-image",width:I(h),height:I(m),src:u,tag:"div"},null):i(M,{width:I(h),height:I(m),class:["background-image","red-pocket-success-bg-canvas","red-pocket-success-main-style".concat(s.value)],canvasMode:{numPlays:1},src:u,tag:"div"},null),i("div",{class:["result","style".concat(s.value)]},[i("div",{class:"title"},[i("span",null,[a.activeName])]),!c.value&&i(te,null,[i("div",{class:"congrats"},[i(U,{html:e("lobby.event.redPocket.congrats")},null)]),i("div",{class:"prize"},[i("span",null,[ve(a.prize)])])]),c.value&&i("div",{class:"retry"},[i(M,{class:"background-image",src:"/lobby_asset/common/common/event/img_none_wlcs_".concat(d.value,".png")},null),i("div",null,[e("lobby.error.networkTimeout2"),i("span",{onClick:l},[e("lobby.event.sign.refresh"),i(ye,{type:"icon",icon:"/lobby_asset/common/web/common/comm_icon_retry.svg"},null)])])]),i("div",{class:"message"},[i(U,{class:"message-content",html:e("lobby.event.redPocket.message")},null)])]),t.value&&r.value&&i("div",{class:["animation","animation-style".concat(s.value)]},[i(M,{class:"background-image",key:"redpocket"+a.item.activeId,src:"/lobby_asset/common/web/animated/apng_hongbaoguang_alpha.png",canvasMode:{numPlays:1,onEnd:()=>{t.value=!1}},width:I(930)},null)])])}}}),[vt]=q("red-pocket-components-red-pocket-item-close-btn"),yt=F({name:vt,props:{type:{type:String,require:!0,default:D.Grab},item:{type:Object,required:!0}},setup(a){const{item:e,type:t}=de(a),s=b(()=>e.value.redImgType),n=Y(),{t:r}=X(),d=P({pin:[]}),c=P(Ve),{setRedPockedStop:l,setIsCollecting:h}=n,{isCollecting:m}=Z(n),u=R=>{d.value=R},p=()=>{e.value&&n.setRedPocketClose(e.value)},f=async()=>{if(!await Y().getPin(e.value)){B(t.value,e.value);return}return n.setUi(x.pin),!0},C=async()=>{var se;const{errorBindType:R}=e.value,v=()=>{n.updateCloseRedList(H(e.value)),B(t.value,e.value)},E=async()=>{n.stopRedPocketQueue(),B(t.value,e.value,!1)};if(!Ce({receiveDeviceType:e.value.receiveDeviceType,fn:v,closeCallback:v})||m.value||await we.check({checkOptions:{[Re.task]:!0},eventData:{taskCondition:JSON.stringify({condition:R}),taskCallback:E}}))return;h(!0);const[G,T]=await ue(ce({subtaskid:"subtaskid"in e.value?e.value.subtaskid:1,active:e.value.activeId,logId:+e.value.logId||0,code:(se=d.value.pin)==null?void 0:se.join("")})),{msg:pe,code:V}=T,me=async()=>{if([2,99].includes(V))$.error(r("lobby.event.redPocket.errorTips"));else{const N=J.showDialog({type:"error",title:()=>r("lobby.notice.importantNotice"),message:pe,showConfirmButton:!1,showCloseButton:!0,onClose:()=>{J.closeDialog(N.instance),h(!1)}})}try{d.value.pin=[],n.updateCloseRedList(H(e.value)),B(t.value,e.value),t.value===D.Grab&&V!==void 0&&![ae.SUCCESSCODE,ae.SERVER_MAINTAIN].includes(V)&&await f()}catch(N){console.error(N)}};if(V!==1||G){me();return}c.value={...c.value,animation:!0,result:T.data},n.setUi(x.success),xe().updatePrize(),Ie.Receive(),h(!1)},k=async()=>{w.value||m.value||await C()},y=b(()=>re(e.value)),w=b(()=>{const R=!!e.value.errorMsg;if(R&&!y.value){const v=J.showDialog({title:r("lobby.common.tips.title"),type:"error",message:()=>e.value.errorMsg,confirmButtonText:r("lobby.modal.passModal.ok"),className:A["red-pocket-tip"],onConfirm:async()=>{try{p(),B(t.value,e.value),J.closeDialog(v.instance),l(!0),ke.pauseInManual(fe.RED_POCKETS)}catch(E){console.error(E)}}})}return R&&!y.value}),L=()=>{h(!1),f()};return()=>{var G;let R;const{pinVerify:v,ui:E}=Y();switch(E){case x.entrance:case x.send:R=i(ut,{item:e.value,isCollecting:m.value,styleType:s.value,onCollect:k},null);break;case x.pin:R=i(rt,{item:e.value,isCollecting:m.value,checkCollect:w.value,onCollect:k,pinVerify:v||"",styleType:s.value,redPocketGrabRef:d,onUpdateRedPocketGrab:u,onInputError:L},null);break;case x.success:R=i(bt,{activeName:e.value.activeName,prize:((G=c.value.result)==null?void 0:G.prize)||0,styleType:s.value,item:e.value,type:t.value},null);break}return i(te,null,[R])}}}),W={selector:document.body,interval:100,eventType:"click",defaultCount:200,rotationMode:j.Rotate,redpack:{speedMin:3,speedMax:5,imgUrl:"data:image/png;base64,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",width:70,height:94},bubble:null,onClick:()=>{}};class kt{constructor({redpackId:e,redpackCtx:t,bubbleCtx:s,x:n,y:r,redpackImgUrl:d,width:c,height:l,speedMax:h,speedMin:m,bubble:u,containerHeight:p,containerWidth:f,rotationMode:C=j.Rotate,onDestoryed:k}){o(this,"redpackId",-1);o(this,"requestId",-1);o(this,"x",0);o(this,"y",0);o(this,"speedY",1);o(this,"speedX",1);o(this,"speedRotate",0);o(this,"speedRatio",0);o(this,"rotationMode",j.Rotate);o(this,"redpackCtx",null);o(this,"bubbleCtx",null);o(this,"width",0);o(this,"height",0);o(this,"bubbleConfig",null);o(this,"redpackImgUrl","");o(this,"redpackImg",null);o(this,"containerHeight",0);o(this,"containerWidth",0);o(this,"onDestoryed",null);o(this,"angle",0);o(this,"ratio",1);o(this,"alpha",1);o(this,"leaveFlag",!1);o(this,"enterFlag",!1);this.redpackId=e,this.redpackCtx=t,this.bubbleCtx=s,this.x=n,this.y=r,this.width=c,this.height=l,this.speedY=S(m,h),this.speedX=this.speedY/2*S(-1,1),this.redpackImgUrl=d,this.containerHeight=p,this.containerWidth=f,this.onDestoryed=k,this.bubbleConfig=u,this.rotationMode=C;const y=S(0,1,!0),w=(y*30+10)*Math.PI/180;this.angle=y<.5?w:0-w,this.speedRotate=.025*S(-1,1),this.speedRatio=.01*S(-1,1),this.ratio=C===j.Rotate?y*.36+.8:0}getScale(e){if(Math.abs(this.speedRatio)<.001)return 0;const t=parseFloat("0."+e.toString().split(".")[1]);return Math.floor(e)%2===0?t>0?1-t:1+t:t}async start(){this.redpackImg=await ne(this.redpackImgUrl),this.render()}checkBeforeLeave(){return(this.speedX>=0?this.x>=this.containerWidth-this.width:this.x<=-this.width+this.width)?"x":(this.speedY>=0?this.y>=this.containerHeight-this.height:this.y<=-this.height+this.height)?"y":!1}checkBoundary(){return(this.speedX>=0?this.x>this.containerWidth:this.x<-this.width)?"x":(this.speedY>=0?this.y>this.containerHeight:this.y<-this.height)?"y":!1}enter(){this.enterFlag!=="done"&&!this.enterFlag&&this.y<=this.height&&(this.alpha=0,this.enterFlag=!0),this.enterFlag===!0&&(this.alpha+=1/Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))*this.speedY,this.alpha>=1&&(this.enterFlag="done"))}leave(){this.leaveFlag||(this.leaveFlag=this.checkBeforeLeave()),this.leaveFlag==="y"?this.alpha+=1/Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))*-this.speedY:this.leaveFlag==="x"&&(this.alpha+=1/Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))*-Math.abs(this.speedX))}render(){const{redpackCtx:e}=this;if(!(!e||!this.redpackImg))if(this.checkBoundary())typeof this.onDestoryed=="function"&&this.onDestoryed(this.redpackId);else{const t=this.x+this.speedX,s=this.y+this.speedY;if(this.angle=this.angle+this.speedRotate,e.save(),this.enter(),this.leave(),e.globalAlpha=this.alpha,e.beginPath(),e.rect(t,s,this.width,this.height),e.translate(t+this.width/2,s+this.height/2),this.rotationMode===j.Flip)this.ratio=this.ratio+this.speedRatio,e.scale(this.getScale(this.ratio),1);else{const r=this.ratio>1.16?.9:this.ratio;e.scale(r,r),e.rotate(this.angle)}const n=this.width>=100||this.height>=100?[W.redpack.width,W.redpack.height]:[this.width,this.height];e.drawImage(this.redpackImg,-this.width/2,-this.height/2,n[0],n[1]),e.strokeStyle="transparent",e.stroke(),e.restore(),this.x=t,this.y=s}}async addBubble(){if(!this.bubbleCtx||!this.bubbleConfig)return;const{imgUrl:e,width:t,height:s,opacitySpeed:n,speed:r}=this.bubbleConfig,d=await ne(e),c=this.x;let l=this.y,h=1;const m=()=>{h-=n,this.bubbleCtx&&(this.bubbleCtx.clearRect(c-10,l-10,t+20,s+20),h>0&&(this.bubbleCtx.save(),this.bubbleCtx.globalAlpha=h,l-=r,this.bubbleCtx.drawImage(d,c,l,t,s),this.bubbleCtx.restore(),z(m)))};z(m)}update({containerHeight:e,containerWidth:t}){this.containerHeight=e,this.containerWidth=t}stop(){_(this.requestId)}}const K=(a,e)=>a!==""?a+e.slice(0,1).toUpperCase()+e.slice(1):e;class ft{constructor(){o(this,"__hidden","");o(this,"__state","");o(this,"__prefixSupport","");o(this,"__kernel",["","webkit","moz","ms","o"]);o(this,"__bindFn",()=>{});o(this,"supportHidden",!1);o(this,"supportState",!1);this.supportHidden=this.__isPageHiddenSupport(),this.supportState=this.__isPageVisibilitySupport()}__isPageHiddenSupport(){let e=!1;return typeof(window==null?void 0:window.screenX)!="number"||this.__kernel.forEach(t=>{const s=K(t,"hidden");!e&&s in document&&(this.__hidden=s,this.__prefixSupport=t,e=!0)}),e}__isPageVisibilitySupport(){let e=!1;return typeof(window==null?void 0:window.screenX)!="number"||this.__kernel.forEach(t=>{const s=K(t,"visibilityState");!e&&s in document&&(this.__state=K(t,"visibilityState"),e=!0)}),e}visibilityChange(e,t=!1){if((this.supportHidden||this.supportState)&&typeof e=="function")return this.__bindFn=()=>{e.call(null,this.isShow)},this.destory(),document.addEventListener(this.__prefixSupport+"visibilitychange",this.__bindFn,t)}destory(){document.removeEventListener(this.__prefixSupport+"visibilitychange",this.__bindFn)}get isShow(){return this.supportState?document[this.__state]==="visible":this.supportHidden?!document[this.__hidden]:!0}}class Ct{constructor(e){o(this,"timer",null);o(this,"rainCtx",null);o(this,"bubbleCtx",null);o(this,"config",W);o(this,"parentClientRect",{width:0,height:0,top:0,left:0});o(this,"ratio",1);o(this,"redpackItemList",{});o(this,"requestId",null);o(this,"fpsBefore",Date.now());o(this,"lastRedpackX",0);o(this,"pageVisibility",null);o(this,"clickListener",e=>{if(typeof this.config.onClick!="function")return;let t=[];e.type==="touchstart"?t=Array.prototype.slice.call(e.touches).map(r=>({clientX:r.clientX,clientY:r.clientY})):t=[{clientX:e.clientX,clientY:e.clientY}];const{left:s,top:n}=this.parentClientRect;this.requestId&&_(this.requestId),t.forEach(({clientX:r,clientY:d})=>{const c=(r-s)*this.ratio,l=(d-n)*this.ratio;for(const h in this.redpackItemList){const m=this.redpackItemList[h],{x:u,y:p,width:f,height:C}=m,k=14;let y=!1;c>=u-k&&c<=u+f+k&&l>=p-k&&l<=p+C+k&&(this.config.bubble&&(delete this.redpackItemList[h],m.addBubble()),y=!0),typeof this.config.onClick=="function"&&this.config.onClick(y)}}),this.render()});if(this.createConfig(e),typeof e.selector=="string"){const t=document.querySelector(e.selector);t?this.config.selector=t:console.error("rain container cant found, selector: ".concat(e.selector))}else this.config.selector=e.selector;this.creatCanvas(),this.pageVisibility=new ft,this.onVisibilityChange=oe(this.onVisibilityChange,this),this.onResize=oe(this.onResize,this)}createConfig(e,t=""){for(const s in e){const n=e[s];n&&(typeof n=="object"?this.createConfig(n,s):t?this.config[t][s]=n:this.config[s]=n)}}updateCanvas(){const e=this.config.selector,t=e.getBoundingClientRect();if(!t)return;const{top:s,left:n,width:r,height:d}=t;if(this.parentClientRect.width=Math.max(r*this.ratio,document.body.clientWidth),this.parentClientRect.height=Math.max(d*this.ratio,document.body.clientHeight),this.parentClientRect.top=s,this.parentClientRect.left=n,e.getElementsByTagName("canvas").length!==0){const c=e.querySelector(".bubble-redpack-canvas");c&&(c.width=this.parentClientRect.width,c.height=this.parentClientRect.height);const l=e.querySelector(".rain-redpack-canvas");l&&(l.width=this.parentClientRect.width,l.height=this.parentClientRect.height)}}updateRedpackItemList(){for(const e in this.redpackItemList)Object.prototype.hasOwnProperty.call(this.redpackItemList,e)&&this.redpackItemList[e].update({containerHeight:this.parentClientRect.height,containerWidth:this.parentClientRect.width})}creatCanvas(){const e=this.config.selector;if(!e||!(e!=null&&e.getBoundingClientRect))return;const t=e.getBoundingClientRect();if(!t)return;const{top:s,left:n,width:r,height:d}=t;if(this.parentClientRect.width=Math.max(r*this.ratio,document.body.clientWidth),this.parentClientRect.height=Math.max(d*this.ratio,document.body.clientHeight),this.parentClientRect.top=s,this.parentClientRect.left=n,e.getElementsByTagName("canvas").length===0){const c=document.createElement("canvas");c.className="bubble-redpack-canvas",c.style.cssText="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1",c.width=this.parentClientRect.width,c.height=this.parentClientRect.height;const l=document.createElement("canvas");l.className="rain-redpack-canvas",l.style.cssText="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2",l.width=this.parentClientRect.width,l.height=this.parentClientRect.height;const h=document.createElement("div");h.className="rain-item rain-".concat(Date.now(),"-").concat(S(0,1,!0)),h.style.cssText="position: relative; height: 100%",this.config.bubble&&h.appendChild(c),h.appendChild(l),e.appendChild(h);const m=e.querySelector(".rain-redpack-canvas"),u=e.querySelector(".bubble-redpack-canvas");m&&(this.rainCtx=m.getContext("2d")),u&&(this.bubbleCtx=u.getContext("2d"))}}onVisibilityChange(e){this.timer&&(clearInterval(this.timer),this.timer=null),e&&(this.timer=setInterval(()=>{this.createRedpackItem()},this.config.interval))}onResize(){this.updateCanvas(),this.updateRedpackItemList()}getRedpackItemX(e){let t=this.lastRedpackX,s=0;do t=Math.floor(S(0,this.parentClientRect.width-e*3)+e);while(s++<10&&Math.abs(this.lastRedpackX-t)<=e*1.5);return this.lastRedpackX=t,t}createRedpackItem(e=!1){const t=!!this.config.bubble;if(!this.rainCtx||t&&!this.bubbleCtx){this.stop();return}const{imgUrl:s}=this.config.redpack||{},{width:n,height:r,speedMax:d,speedMin:c}=W.redpack,l=Date.now(),h=this.getRedpackItemX(n),m=e?Math.floor(S(0,this.parentClientRect.height-r*3)+r):-this.config.redpack.height,u=new kt({redpackId:l,redpackCtx:this.rainCtx,bubbleCtx:this.bubbleCtx,rotationMode:this.config.rotationMode,x:h,y:m,redpackImgUrl:s,width:n,height:r,speedMax:d,speedMin:c,bubble:this.config.bubble,containerHeight:this.parentClientRect.height,containerWidth:this.parentClientRect.width,onDestoryed:p=>{delete this.redpackItemList[p]}});u.start(),this.redpackItemList[l]=u}render(){this.requestId=z(()=>{var e;(e=this.rainCtx)==null||e.clearRect(0,0,this.parentClientRect.width,this.parentClientRect.height);for(const t in this.redpackItemList)this.redpackItemList[t].render();if(this.config.onMonitor&&typeof this.config.onMonitor=="function"){const t=Date.now(),s=Math.round(1e3/(t-this.fpsBefore));this.fpsBefore=t,this.config.onMonitor({fps:s})}this.render()})}setOptions(e){if(!this.timer)return console.error("please use start() before setOptions");const t=this.config.interval;this.createConfig(e),t!==this.config.interval&&this.start()}start(){var e,t;this.config.selector&&(this.clear(),(e=this.config.selector)==null||e.addEventListener(this.config.eventType,this.clickListener,!1),this.config.defaultCount===0?this.createRedpackItem():Array.from({length:this.config.defaultCount}).forEach(()=>{this.createRedpackItem(!0)}),this.timer=setInterval(()=>{this.createRedpackItem()},this.config.interval),this.render(),window.addEventListener("resize",this.onResize),(t=this.pageVisibility)==null||t.visibilityChange(this.onVisibilityChange))}clear(){var e,t,s;this.timer&&(clearInterval(this.timer),this.timer=null),this.requestId&&(_(this.requestId),this.requestId=null),(e=this.rainCtx)==null||e.clearRect(0,0,this.parentClientRect.width,this.parentClientRect.height),(t=this.config.selector)==null||t.removeEventListener(this.config.eventType,this.clickListener),(s=this.pageVisibility)==null||s.destory(),window.removeEventListener("resize",this.onResize)}stop(){this.clear(),this.redpackItemList={}}}const[wt]=q("red-pocket-components-red-pocket-item"),Rt=F({name:wt,props:{type:{type:String,require:!0,default:D.Grab},item:{type:Object,require:!0,default:()=>({})},redPocket:{type:String,require:!0,default:""}},setup(a){const{item:e,type:t}=de(a),s=Y(),{t:n}=X(),r=P(),d=P(null),c=b(()=>e.value.redImgType),l=b(()=>c.value===g.RedPocket),h=async()=>{var k;const p=((k=he().userInfos)==null?void 0:k.platfromid)||"",f=Ae(),C=f.find(y=>y.platfromid===p);C?(C.data||(C.data=[]),C.data.push(a.redPocket)):f.push({platfromid:p,data:[a.redPocket]}),s.setRedPocketHandleClose(f);try{await ue(ce({subtaskid:"subtaskid"in e.value?e.value.subtaskid:1,active:e.value.activeId,logId:+e.value.logId||0,isCloseRedPack:1}))}catch(y){console.error("red"+y),B(t.value,e.value)}},m=()=>{if(s.ui===x.success){B(t.value,e.value,!1);return}const u=J.showDialog({title:n("lobby.notice.importantNotice"),type:"error",message:()=>i(U,{tag:"div",html:n("lobby.event.redPocket.closeTip")},null),confirmButtonText:n("lobby.modal.passModal.ok"),className:A["red-pocket-tip"],allowHtml:!0,showCloseButton:!0,onConfirm:()=>{try{J.closeDialog(u.instance),h(),B(t.value,e.value)}catch(p){console.error(p),B(t.value,e.value)}}})};return Te(()=>{if(t.value!==D.Grab)s.setUi(t.value===D.Open?x.entrance:x.send);else{const{pinVerify:u}=Y();s.setUi(u?x.pin:x.entrance)}ee(async()=>{l.value&&(d.value=setInterval(()=>{l.value&&document.querySelector(".".concat(A.mask))&&(d.value&&clearInterval(d.value),r.value=new Ct({...Le,selector:".".concat(A.mask)}),r.value.start())},300))})}),je(()=>{d.value&&clearInterval(d.value)}),Je(()=>{var u,p;(p=(u=r.value)==null?void 0:u.stop)==null||p.call(u)}),()=>i("div",{class:[A.main,"red-pocket-modal-box"]},[i(M,{src:l.value?"":"/lobby_asset/common/web/animated/apng_event_hby_style_2.png",tag:"div",class:[A.mask,"red-pocket-mask-style-".concat(c.value)]},{default:()=>[i("div",{class:A.wrap},[i("div",{class:A.pocket},[i(yt,{type:t.value,item:e.value},null),i(at,{styleType:c.value,ui:s.ui,isRedPocket:l.value,onHandleClose:()=>m()},null)])])]})])}}),xt=Rt,It="_value_1psxg_17",le={value:It,"has-member":"_has-member_1psxg_17","red-pocket-mask":"_red-pocket-mask_1psxg_21"},[At]=De("red-pocket-modal"),Yt=F({name:At,setup(){const{dialogsStates:{redPocket:a}}=Be(),e=Y(),{setRedPockedOpening:t,setRedPockedOpeningOptions:s,restartRedPackQueue:n,checkOpenRedModal:r}=e,{redPockedOpening:d,isCollecting:c,redPockedOpeningOptions:l,redPockedStop:h}=Z(e),{isGamePlaying:m}=Z(Se()),u=Fe(),p=b(()=>{var v;return(v=l.value)==null?void 0:v.redItem}),f=b(()=>{var v;return(v=l.value)==null?void 0:v.redType}),C=[O.GAME,O.ROOT,O.EVENT];Qe(()=>u,v=>{h.value&&v.name&&C.includes(v.name)&&n()},{deep:!0,immediate:!0});const k=v=>{const{redType:E=D.Open,inHomeQueue:G=!1,redItem:T=null}=v;!T||c.value||(t(!0,H(T)),s({redType:E,inHomeQueue:G,redItem:Pe(T)}))};Ye(()=>{!d.value&&!p.value&&a.options&&a.options.redItem&&k(a.options)});const y=b(()=>Me(w.value)),w=b(()=>H(p.value)),L=b(()=>{var v;return a.show&&!(!p.value||!f.value||!((v=p.value)!=null&&v.activeId)||!he().hasLogined||y.value||re(p.value)||h.value||m.value)}),R=()=>{ee(()=>{r()})};return()=>i(Ee,{show:L.value,"onUpdate:show":v=>L.value=v,"close-on-click-overlay":!1,class:[le["red-pocket-mask"],c.value?le.isCollecting:""],onClose:R},{default:()=>p.value?i(xt,{type:f.value,item:p.value,key:w.value,"red-pocket":w.value},null):i(te,null,null)})}});export{Yt as default};
//# sourceMappingURL=RedPocketModalIndex.DlSOZ4Q_.js.map
