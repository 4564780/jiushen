import{d as we,s as q}from"../vendors/vendor-stable.LD58Pbb3.js";import{u as ee}from"./index.BB5bZn2v.js";import{aE as he,eO as Re,a as B,I as Q,q as F,az as ue,bq as I,aa as ce,cH as ge,Y as de,bL as Ne,ca as z,bQ as ne,iX as xe,a6 as Te}from"./main.C8q1iJMV.js";import{e as J,d as Se}from"../vendors/vendor-default.CjiYZF7Q.js";import{r as A,f as N,l as j,p as t,v as M,y as ve,z as me,t as Ie,e as Le}from"../vendors/vendor-@vue.DNlpgob2.js";import{P as De}from"./PublicIntroductionIndex.bUl03y0X.js";import{R as ke,E as se}from"./ReceiveCountdownIndex.C4K-6t0P.js";import{T as ye}from"./index.SS2HDjZq.js";import{e as be}from"./enum.CisFEKyB.js";import{a as $e}from"./activeReceiveOne.CY32GsDi.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";import"./Table.CBQduS50.js";const K=async e=>{const n=await he.request({url:"/active/getRankingList",method:"POST",data:{...e}},{cache:{useCache:"fresh",...Re()},oss:{enable:!1}});return n==null?void 0:n.data.data},L=we("eventRankingList",()=>{const e=ee(),{eventItemData:n,isItemLoading:d,itemErr:i}=q(e),a=A(!1),u=A(!1),_=A([]),c=A([]),g=A([]),o=A([]),m=N(()=>n.value),b=N(()=>{var f;return(f=m.value)==null?void 0:f.activeData});return{rankingListData:m,isItemLoading:d,itemErr:i,activeData:b,loadingRow:a,currRankingList:_,yesterdayRankingList:c,currOriginData:g,yesterdayOriginData:o,getEventDetailRankingList:async f=>{a.value=!0;const[D,w]=await J(K(f));D||(_.value=(w==null?void 0:w.list)||[],a.value=!1)},getEventYesterdayRankingList:async f=>{u.value=!0;const[D,w]=await J(K(f));D||(c.value=(w==null?void 0:w.list)||[],u.value=!1)},getEventAllRankingList:async f=>{const[D,w]=await J(K(f));D||(g.value=(w==null?void 0:w.list)||[])},getEventYesterdayAllRankingList:async f=>{const[D,w]=await J(K(f));D||(o.value=(w==null?void 0:w.list)||[])},resetRankingData:()=>{a.value=!1,g.value=[],o.value=[],_.value=[],c.value=[]}}});var X=(e=>(e[e.Now=0]="Now",e[e.Last=1]="Last",e))(X||{}),Z=(e=>(e[e.Fixed=1]="Fixed",e[e.Random=2]="Random",e))(Z||{});const U=3,V=10,oe=10,Ce=100;var h=(e=>(e[e.No1=1]="No1",e[e.No2=2]="No2",e[e.No3=3]="No3",e))(h||{});const ae={"ranking-icon":"_ranking-icon_wfu1c_17"},[Me]=F("event-item-ranking-list-ranking-order"),G=j({name:Me,props:{ranking:{type:[Number,String],default:0},rankingIcons:{type:Array,default:()=>[]}},setup(e){const{t:n}=B(),d=N(()=>{var u;let i=e.rankingIcons;if((u=e.rankingIcons)!=null&&u.length||(i=["/lobby_asset/common/common/event/phbhd_dj_1.png","/lobby_asset/common/common/event/phbhd_dj_2.png","/lobby_asset/common/common/event/phbhd_dj_3.png"]),Number(e.ranking)>U)return"";const a=i[Number(e.ranking)-1];return a!=null?a:""});return()=>Number(e.ranking)<1?t("span",{class:ae["ranking-text"]},[n("lobby.event.ranking.notOnList")]):d.value?t(Q,{class:[ae["ranking-icon"],"ranking-icon"],src:d.value},null):t("span",{class:ae["ranking-text"]},[n("lobby.event.ranking.rankingNum",[e.ranking])])}}),H=e=>{const n=ue().userInfos;return(n==null?void 0:n.username)&&String(e)===String(n==null?void 0:n.username)},ie=(e,n)=>{if(!e||!n)return"";const{t:d}=B(),i=16,a=(n==null?void 0:n.length)>i?(n==null?void 0:n.slice(0,i))+"...":n;return H(e)?d("lobby.event.ranking.myself"):a},Ee=(e,n,d,i)=>{const a=[];return e==null||e.forEach(u=>{var x,R,$,f,D,w;const{reward:_,displayRewardMax:c,displayRewardMin:g,rangeStart:o,rangeEnd:m}=u,{activeData:b}=L();let v="".concat(I(_));c&&g&&b.rewardType===Z.Random&&(v="".concat(I(g),"-").concat(I(c)));const k=o<m?"".concat(o>U?o:U+1,"-").concat(m):o;if(o<=U){if(a.every(r=>r.ranking!==h.No1)){const r=i(h.No1);a.push({rankingType:(x=L().activeData)==null?void 0:x.rankingType,ranking:h.No1,useridx:(r==null?void 0:r.useridx)||"",username:(r==null?void 0:r.username)||"",amount:r==null?void 0:r.amount,rewardRange:v})}const l=o===h.No1&&m>=h.No2,s=o>=h.No2&&m>=h.No2;if((l||s)&&a.every(r=>r.ranking!==h.No2)){const r=i(h.No2);a.push({rankingType:(R=L().activeData)==null?void 0:R.rankingType,ranking:h.No2,useridx:(r==null?void 0:r.useridx)||"",username:(r==null?void 0:r.username)||"",amount:r==null?void 0:r.amount,rewardRange:v})}const p=o===h.No1&&m>=h.No3,y=o>=h.No2&&m>=h.No3,C=o>=h.No2&&m>h.No3;if((p||y||C)&&a.every(r=>r.ranking!==h.No3)){const r=i(h.No3);a.push({rankingType:($=L().activeData)==null?void 0:$.rankingType,ranking:h.No3,useridx:(r==null?void 0:r.useridx)||"",username:(r==null?void 0:r.username)||"",amount:r==null?void 0:r.amount,rewardRange:v})}}if(m>U){const l=(n==null?void 0:n.filter(s=>Number(s.ranking)>=o&&Number(s.ranking)<=m&&Number(s.ranking)>U))||[];d==null||d.forEach(s=>{Number(s.ranking)>=o&&Number(s.ranking)<=m&&Number(s.ranking)>U&&l.every(p=>p.useridx!==s.useridx)&&l.push(s)}),a.push({rankingType:(f=L().activeData)==null?void 0:f.rankingType,ranking:k,useridx:((D=l==null?void 0:l[0])==null?void 0:D.useridx)||"",username:((w=l==null?void 0:l[0])==null?void 0:w.username)||"",amount:"",rewardRange:v,list:l})}}),a},Ae="_tableMain_1l9dt_17",qe="_myself_1l9dt_42",W={tableMain:Ae,myself:qe,"reward-range":"_reward-range_1l9dt_49","user-award":"_user-award_1l9dt_56"},[Ye]=F("event-item-modes-ranking-list-ranking-detail"),Oe=j({name:Ye,props:{tableTitle:{type:String,default:""},datalist:{type:Array,default:()=>[]}},setup(e){const{t:n}=B(),d=L(),{activeData:i}=q(d),a=N(()=>[{title:n("lobby.event.ranking.ranking"),key:"ranking",customRender:u=>t(G,{ranking:u,rankingIcons:i.value.rankingIconImg},null)},{title:e.tableTitle,width:310,key:"username",customRender:(u,_)=>{var v;const c=e.datalist.find(k=>k.ranking===_.ranking),g=((v=c==null?void 0:c.list)==null?void 0:v.slice(0,V))||[],o=g.length===0?u:g[0].username,m=g.length===0?_.amount:g[0].amount;if(!o&&!(g!=null&&g.length))return t("span",null,[M("--")]);const b=H(_.useridx)?"myself":"";return t("p",{class:[W[b],W["user-award"]]},[ie(_.useridx,o)||"",M(" ("),I(Number(m)),M(")")])}},{title:n("lobby.event.ranking.rewardAmount"),key:"rewardRange",customRender:u=>t("div",{class:W["reward-range"]},[t("span",null,[u])])}]);return()=>{var u;return t("div",{class:[W.tableMain]},[t(ye,{columns:a.value,data:e.datalist},null),((u=e.datalist)==null?void 0:u.length)>=Ce&&t("div",{class:"max-tip"},[n("lobby.event.ranking.maxRow")])])}}}),Be="_tableMain_i8qwt_17",Fe="_myself_i8qwt_35",je="_guiding_i8qwt_75",Pe="_icon2_i8qwt_85",Ue="_detailModal_i8qwt_93",T={tableMain:Be,myself:Fe,"reward-range":"_reward-range_i8qwt_42","user-award1":"_user-award1_i8qwt_49","user-award2":"_user-award2_i8qwt_50","detail-btn":"_detail-btn_i8qwt_30",guiding:je,icon2:Pe,detailModal:Ue},[Ve]=F("event-item-modes-ranking-list-ranking-table"),_e=j({name:Ve,props:{tableTitle:{type:String,default:""},isYesterday:{type:Boolean,default:!1}},setup(e){const{t:n}=B(),d=L(),{rankingListData:i,activeData:a,currOriginData:u,yesterdayOriginData:_,currRankingList:c,yesterdayRankingList:g}=q(d),o=A(!1),m=N(()=>{var l,s,p;return e.isYesterday?(l=a.value)==null?void 0:l.lastList:(p=(s=a.value)==null?void 0:s.todayList)!=null?p:[]}),b=N(()=>e.isYesterday?_.value:u.value),v=N(()=>{var l;return(l=o.value?b.value:m.value)!=null?l:[]}),k=N(()=>{var l,s;return(s=(l=a.value)==null?void 0:l.rankingRange)!=null?s:[]}),x=l=>{var s,p;return((s=v.value)==null?void 0:s.find(y=>Number(y.ranking)===l))||((p=m.value)==null?void 0:p.find(y=>Number(y.ranking)===l))},R=N(()=>{const l=Ee(k.value,b.value,m.value,x);return o.value?l:l==null?void 0:l.slice(0,oe)}),$=N(()=>[{title:n("lobby.event.ranking.ranking"),key:"ranking",customRender:l=>t(G,{ranking:l,rankingIcons:a.value.rankingIconImg},null)},{title:()=>e.tableTitle,width:310,key:"username",customRender:(l,s)=>{var le;const p=R.value.find(S=>S.ranking===s.ranking),y=((le=p==null?void 0:p.list)==null?void 0:le.slice(0,V))||[],C=y.length===0?l:y[0].username,r=y.length===0?s.amount:y[0].amount;if(!C&&!(y!=null&&y.length))return t("span",null,[M("--")]);let P=1;if(s.ranking&&s.ranking.toString().includes("-")){const[S,te]=s.ranking.toString().split("-");P=Number(te)-Number(S)+1}if(P===1){const S=H(s.useridx)?"myself":"";return t("p",{class:[T[S],T["user-award1"]]},[ie(s.useridx,C)||"",M(" ("),I(Number(r)),M(")")])}const fe=V-y.length>=0?V-y.length:0;return t("div",{class:T["ranking-list-reward-range"]},[y==null?void 0:y.map(S=>{const te=S.useridx&&H(S.useridx)?"myself":"";return t("p",{class:[T[te],T["user-award2"]]},[t("span",null,[ie(S.useridx,S.username)||""]),M(" ("),I(Number(S.amount)),M(")")])}),P>V&&Array.from({length:fe}).map(()=>t("p",null,[t("span",null,[M("--")])])),P>V&&t("div",{class:T["detail-btn"],onClick:()=>{var S;return f((S=s.ranking)==null?void 0:S.toString())}},[t("div",null,[n("lobby.system.more")]),t("div",{class:T.guiding},[t(Q,{class:T.icon1,src:"/lobby_asset/common/web/common/img_scroll_jt.svg"},null),t(Q,{class:T.icon2,src:"/lobby_asset/common/web/common/img_scroll_jt.svg"},null)])])])}},{title:n("lobby.event.ranking.rewardAmount"),key:"rewardRange",customRender:(l,s)=>{var y;let p=s.list&&((y=s.list)==null?void 0:y.length)>1;if(s.ranking.toString().includes("-")){const[C,r]=s.ranking.toString().split("-");p=+r-+C>1}return t("div",{class:T["reward-range"]},[t("span",null,[l]),p?n("lobby.event.ranking.everyOneRewardAmount"):""])}}]),f=async l=>{var P;if(!((P=i.value)!=null&&P.id))return;const[s,p]=l.split("-"),y=s?Number(s):1,C=p?Number(p):1e4;let r=Number(C)-Number(y);r>=99&&(r=99),e.isYesterday?await d.getEventYesterdayRankingList({activeId:i.value.id,requestDay:X.Last,rangeStart:y,rangeEnd:y+r}):await d.getEventDetailRankingList({activeId:i.value.id,requestDay:X.Now,rangeStart:y,rangeEnd:y+r}),D()},D=()=>{console.log("crowell handleViewmore",e.isYesterday?g.value:c.value),ce.showDialog({title:()=>n("lobby.records.detail"),width:ge(690),className:T.detailModal,message:()=>{var l;return t(Oe,{datalist:(l=e.isYesterday?g.value:c.value)==null?void 0:l.map(s=>{var r;const p=(r=s.rewardRange)==null?void 0:r.includes("-");let y,C;return p&&([y,C]=s.rewardRange.split("-")),{...s,rewardRange:p?"".concat(I(Number(y))," - ").concat(I(Number(C))):I(Number(s.rewardRange))}}),tableTitle:e.tableTitle},null)},showConfirmButton:!1,showCloseButton:!0})},w=async()=>{e.isYesterday?await d.getEventYesterdayAllRankingList({activeId:i.value.id,requestDay:X.Last,rangeStart:1,rangeEnd:1e4}):await d.getEventAllRankingList({activeId:i.value.id,requestDay:X.Now,rangeStart:1,rangeEnd:1e4}),o.value=!0};return()=>{var l,s;return t("div",{class:[T.tableMain]},[t(ye,{columns:$.value,data:R.value},null),ve(t("div",{class:"bottom-more-btn"},[t("div",{class:[T["detail-btn"],"detail-btn"],onClick:w},[n("lobby.event.ranking.loadingMore"),t("div",{class:T.guiding},[t(Q,{class:T.icon1,src:"/lobby_asset/common/web/common/img_scroll_jt.svg"},null),t(Q,{class:T.icon2,src:"/lobby_asset/common/web/common/img_scroll_jt.svg"},null)])])]),[[me,!o.value&&((l=k.value)==null?void 0:l.length)&&Number((s=k.value)==null?void 0:s.length)>oe]])])}}}),ze="_yellow_ov7eu_80",Y={"ranking-list-bottom-box":"_ranking-list-bottom-box_ov7eu_17","ranking-box":"_ranking-box_ov7eu_38","ranking-info":"_ranking-info_ov7eu_44","ranking-list-table":"_ranking-list-table_ov7eu_47","refresh-btn":"_refresh-btn_ov7eu_50","ranking-today":"_ranking-today_ov7eu_63","today-bonus":"_today-bonus_ov7eu_76",yellow:ze,"margin-top-fit":"_margin-top-fit_ov7eu_84"},[Qe]=F("event-item-ranking-list-ranking-bottom"),Xe=j({name:Qe,props:{isShowLast:{type:Boolean,default:!1},textTitle:{type:String,default:""},tableTitle:{type:String,default:""}},setup(e){const{t:n}=B(),d=ee(),i=L(),{activeData:a}=q(i),u=A(!0),_=N(()=>{var v,k,x;let b;return(v=a.value)!=null&&v.todayList&&((k=ue().userInfos)!=null&&k.username)&&(b=(x=a.value)==null?void 0:x.rankingRange.find(R=>{var $,f;return R.rangeStart<=(($=a.value)==null?void 0:$.myRankingToday)&&((f=a.value)==null?void 0:f.myRankingToday)<=R.rangeEnd})),b}),c=N(()=>{var $,f;const{rangeStart:b,rangeEnd:v,reward:k,displayRewardMin:x,displayRewardMax:R}=_.value||{};return(($=a.value)==null?void 0:$.rewardType)===Z.Random&&b&&v?"".concat(I(x||"0"),"-").concat(I(R||"0")):((f=a.value)==null?void 0:f.rewardType)===Z.Fixed&&k?I(k):"--"}),g=()=>{var b,v;(b=d.eventItemData)!=null&&b.id&&d.refreshEventItemDetail((v=d.eventItemData)==null?void 0:v.id),u.value=!0},o=()=>{u.value=!1},m=b=>{const v=Se.duration(b*1e3),k=R=>R<10?"0".concat(R):R,x={m:k(v.minutes()),s:k(v.seconds())};return"".concat(x.m,":").concat(x.s," s")};return()=>{var b,v,k;return t("div",{class:{[Y["ranking-list-bottom-box"]]:!0,[Y["margin-top-fit"]]:e.isShowLast}},[t("h1",null,[e.textTitle]),t("p",{class:Y["ranking-box"]},[t("div",{class:Y["ranking-info"]},[n("lobby.event.ranking.currentRanking"),t("span",{class:Y["ranking-today"]},[t(G,{ranking:(b=a.value)==null?void 0:b.myRankingToday,rankingIcons:(v=a.value)==null?void 0:v.rankingIconImg},null)]),M(", "),n("lobby.event.ranking.todayBonus"),t("span",{class:[Y["today-bonus"],(k=_.value)!=null&&k.reward?Y.yellow:""]},[c.value])]),t(de,{disabled:u.value,size:"small",type:"primary",class:Y["refresh-btn"],onClick:g},{default:()=>[n("lobby.event.ranking.refresh"),u.value&&t(ke,{duration:61,textFormatType:se.None,durationFormat:m,onComplete:o},null)]})]),t(_e,{tableTitle:e.tableTitle},null)])}}}),Ge=()=>{const e=A(!1),n=A(!1),d=ee(),{eventItemData:i}=q(d),a=L(),{activeData:u}=Ie(a);return{isLoading:e,receiveSuccess:n,handleReceiveAll:async()=>{var c,g,o,m,b;e.value||await Ne.check({eventData:{...i.value,receiveStatus:(c=u.value)==null?void 0:c.receiveStatus,receiveCategory:(g=u.value)==null?void 0:g.logCategory,amount:(o=u.value)==null?void 0:o.reward},checkOptions:{[z.forbidReceive]:!0,[z.receiveType]:!0,[z.task]:!0,[z.largeAmount]:!0,[z.pendingCheck]:!0}})||(e.value=!0,$e({params:{receiveId:(m=u.value.receiveId)==null?void 0:m.toString(),activeId:(b=i.value)==null?void 0:b.id},showSuccessModal:!1,onSuccess:()=>{n.value=!0},judgeResBefore:()=>{var v,k;e.value=!1,(v=i.value)!=null&&v.id&&d.refreshEventItemDetail((k=i.value)==null?void 0:k.id)}}))}}},Je="_resetCountdown_1f4uj_29",re={"ranking-list-top-right":"_ranking-list-top-right_1f4uj_17","receive-btn":"_receive-btn_1f4uj_23",resetCountdown:Je},[Ke]=F("event-item-ranking-list-ranking-receive"),pe=j({name:Ke,setup(){const e=L(),{activeData:n}=q(e),d=Ge(),i=N(()=>{var c;return((c=n.value)==null?void 0:c.isSettled)===be.YES}),a=N(()=>{var c,g;return(g=(c=n.value)==null?void 0:c.receiveDuration)!=null?g:0}),u=()=>{d.handleReceiveAll()},_=()=>{};return()=>{var c,g,o;return ve(t("div",{class:re["ranking-list-top-right"]},[t(de,{onClick:u,class:re["receive-btn"],type:"success",loading:d.isLoading.value,disabled:!i.value||a.value>0||![ne.PendingCheck,ne.CanReceive].includes((c=n.value)==null?void 0:c.receiveStatus)},{default:()=>{var m;return[t("span",null,[xe((m=n.value)==null?void 0:m.receiveStatus)])]}}),t(ke,{class:re.resetCountdown,textFormatType:a.value>0?se.CanReceive:se.Reset,duration:a.value,onComplete:_},null)]),[[me,!!((g=n.value)!=null&&g.receiveId)&&((o=n.value)==null?void 0:o.receiveStatus)!==ne.HasReceive&&!d.receiveSuccess.value]])}}}),We="_top_1nhqp_35",Ze="_bottom_1nhqp_43",He="_detail_1nhqp_46",et="_yellow_1nhqp_64",tt="_detailModal_1nhqp_72",O={"ranking-list-yesterday":"_ranking-list-yesterday_1nhqp_17","ranking-list-top-box":"_ranking-list-top-box_1nhqp_31",top:We,bottom:Ze,detail:He,"ranking-last":"_ranking-last_1nhqp_52","ranking-award":"_ranking-award_1nhqp_61",yellow:et,"ranking-list-top-left":"_ranking-list-top-left_1nhqp_67",detailModal:tt},[nt]=F("event-item-ranking-list-yesterday-detail"),at=j({name:nt,props:{topLastRanking:{type:String,default:""},tableTitle:{type:String,default:""}},setup(e){const{t:n}=B(),d=L(),{activeData:i}=q(d);return()=>{var a,u,_,c,g;return t("div",{class:O["ranking-list-yesterday"]},[t("div",{class:O["ranking-list-top-box"]},[t("div",{class:O["ranking-list-top-left"]},[t("p",{class:O.top},[e.topLastRanking,t("span",{class:O["ranking-last"]},[t(G,{ranking:(a=i.value)==null?void 0:a.myRankingLast,rankingIcons:(u=i.value)==null?void 0:u.rankingIconImg},null)])]),t("p",{class:O.bottom},[t("span",null,[n("lobby.event.ranking.getBonus"),M(" ")]),t("span",{class:{[O["ranking-award"]]:!0,[O.yellow]:!!((_=i.value)!=null&&_.reward)}},[(c=i.value)!=null&&c.reward?I((g=i.value)==null?void 0:g.reward):"--"])])]),t(pe,null,null)]),t(_e,{tableTitle:e.tableTitle,isYesterday:!0},null)])}}}),rt="_top_orrvr_36",st="_detail_orrvr_44",it="_yellow_orrvr_62",lt="_detailModal_orrvr_70",E={"ranking-list-top-container":"_ranking-list-top-container_orrvr_17","ranking-list-top-box":"_ranking-list-top-box_orrvr_25",top:rt,detail:st,"ranking-last":"_ranking-last_orrvr_50","ranking-award":"_ranking-award_orrvr_58",yellow:it,"ranking-list-top-left":"_ranking-list-top-left_orrvr_65",detailModal:lt},[ot]=F("event-item-ranking-list-ranking-top"),ut=j({name:ot,props:{topLastRanking:{type:String,default:""},tableTitle:{type:String,default:""},lastTitle:{type:String,default:""}},setup(e){const{t:n}=B(),d=L(),{activeData:i}=q(d),a=()=>{_()},u=N(()=>{var c;return((c=i.value)==null?void 0:c.isSettled)===be.YES}),_=()=>{ce.showDialog({title:()=>e.lastTitle,className:E.detailModal,width:ge(690),message:()=>t(at,{topLastRanking:e.topLastRanking,tableTitle:e.tableTitle},null),showConfirmButton:!1,showCloseButton:!0})};return()=>{var c,g,o,m,b;return t("div",{class:E["ranking-list-top-container"]},[t("div",{class:E["ranking-list-top-box"]},[t("div",{class:E["ranking-list-top-left"]},[t("p",{class:E.top},[e.topLastRanking,t("span",{class:E["ranking-last"]},[u.value?t(G,{ranking:(c=i.value)==null?void 0:c.myRankingLast,rankingIcons:(g=i.value)==null?void 0:g.rankingIconImg},null):t("span",{class:E["rankin-text"]},[n("lobby.event.ranking.settling")])]),u.value&&t("div",{class:E.detail,onClick:a},[n("lobby.records.detail")])]),t("p",null,[n("lobby.event.ranking.getBonus"),t("span",{class:{[E["ranking-award"]]:!0,[E.yellow]:!!((o=i.value)!=null&&o.reward)}},[(m=i.value)!=null&&m.reward&&u.value?I((b=i.value)==null?void 0:b.reward):"--"])])]),t(pe,null,null)])])}}}),[ct]=F("event-item-modes-ranking-list"),It=j({name:ct,props:{eventId:Number},setup(e){const{t:n}=B(),d=ee(),i=L(),{rankingListData:a,activeData:u,isItemLoading:_,itemErr:c}=q(i),g=N(()=>_.value?"nested-loading":c.value?"retry":null),o=N(()=>{var x,R;const v=(x=a.value)==null?void 0:x.cycleType,k=(R=u.value)==null?void 0:R.rankingType;return{title:n("lobby.event.ranking.todayRanking".concat(v||1,"_").concat(k||1)),lastTitle:n("lobby.event.ranking.yesterdayRankingList".concat(v||1,"_").concat(k||1)),tableTitle:n("lobby.event.ranking.accumulatedRecharge".concat(k||1)),topLastRanking:n("lobby.event.ranking.yesterdayRanking".concat(v||1))}}),m=N(()=>{var v,k;return!!((k=(v=u.value)==null?void 0:v.lastList)!=null&&k.length)});Le(()=>{i.resetRankingData()});const b=async()=>{e.eventId&&d.refreshEventItemDetail(e.eventId)};return()=>t(Te,{type:g.value,onRetry:b},{default:()=>[m.value&&t(ut,{tableTitle:o.value.tableTitle,lastTitle:o.value.lastTitle,topLastRanking:o.value.topLastRanking},null),t(Xe,{isShowLast:m.value,textTitle:o.value.title,tableTitle:o.value.tableTitle},null),t(De,{eventData:a.value},null)]})}});export{It as default};
//# sourceMappingURL=RankingListIndex.GKj_ERgI.js.map
