import{i2 as P,u as S,ib as d,il as N,im as T,io as I,a as A,ip as B,iq as O,dN as R,bq as u,Y as j,I as D,ir as F}from"./main.C8q1iJMV.js";import{l as K,r as U,w as V,p as o,v as q,C as L}from"../vendors/vendor-@vue.DNlpgob2.js";import"../vendors/vendor-default.CjiYZF7Q.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-stable.LD58Pbb3.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";const b=a=>{if(!a)return;const l=P(),{open:n,close:t}=S(),{payKind:s,payTypeId:k,channelId:r,recommendedAmount:p}=a;let i;switch(s){case d.online:i="online";break;case d.crypto:i="crypto";break;case d.transfer:i="transfer"}l.preSelectInfo[i]={typePayplatformid:k,channelId:r,amount:p},t("rechargeSmart"),n("recharge",{payKind:s})},M=a=>{if(!(a!=null&&a.singlePay)){b(a);return}const{recommendedAmount:l,merchCode:n,payTypeId:t,payUrl:s,signKey:k,recommendedCurrency:r,channelId:p,mergeStatus:i,payKind:c}=a;c===d.online||c===d.crypto?N({type:c===d.online?"online":"crypto",formModel:{amount:l},activeChannelCurrencyCode:r,payplatformid:p,paytype:String(t),signKey:k,merchCode:n,url:s}):c===d.transfer&&T({paymentid:t,receive_id:p,money:l,payCurrency:r,name:"",payAddress:void 0,mergeStatus:i,pnt:I()})},$="_smart_kkxko_17",Y="_title_kkxko_24",z="_tips_kkxko_58",E="_content_kkxko_63",G="_balance_kkxko_66",H="_label_kkxko_76",J="_channel_kkxko_83",Q="_amount_kkxko_100",W="_currency_kkxko_104",X="_footer_kkxko_113",Z="_popover_kkxko_113",ee="_arrow_kkxko_131",oe="_gift_kkxko_144",te="_income_kkxko_147",e={smart:$,title:Y,"btn-close":"_btn-close_kkxko_38","btn-close-icon":"_btn-close-icon_kkxko_48","btn-close-icon-disabled":"_btn-close-icon-disabled_kkxko_55",tips:z,content:E,balance:G,"content-item":"_content-item_kkxko_69","user-balance":"_user-balance_kkxko_72",label:H,channel:J,"label-text":"_label-text_kkxko_94",amount:Q,currency:W,"btn-edit":"_btn-edit_kkxko_108",footer:X,popover:Z,"inner-content":"_inner-content_kkxko_118",arrow:ee,gift:oe,income:te,"btn-recharge":"_btn-recharge_kkxko_150"};function ae(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!L(a)}const _e=K({setup(){const{close:a,dialogsStates:{rechargeSmart:l}}=S(),{t:n}=A(),t=B(),s=U(0),k=()=>{s.value<=0&&a("rechargeSmart")};let r=null;const p=()=>{r&&(clearTimeout(r),r=null)},i=()=>{s.value<=0||(s.value=s.value-1,r=setTimeout(()=>{i()},1e3))};return V(()=>l.show,c=>{var m,_;p(),c&&(s.value=(_=(m=t.config)==null?void 0:m.publicSetting.forcedDisplay)!=null?_:0,i())}),()=>{let c;return o(F,{class:e.smart,show:l.show,"onUpdate:show":m=>l.show=m,closeOnClickOverlay:!1},{default:()=>{var m,_,y,f,g,h,v,x,C,w;return[o("p",{class:e.title},[t.getTitle((_=(m=l.options)==null?void 0:m.scene)!=null?_:O.LowBalance)]),o("div",{class:e.content},[o("div",{class:[e["content-item"],e.balance]},[o("span",{class:e.label},[n("lobby.modal.smartPay.balance")]),o(R,{class:e["user-balance"],showUnderline:!1,showPopoverBorder:!1,showPopover:!1,gameLogout:!1},null)]),o("div",{class:e["content-item"]},[o("span",{class:e.label},[n("lobby.modal.smartPay.recommendAmount")]),o("span",{class:e.amount},[u(Number((y=t.modalContent)==null?void 0:y.recommendedAmount)),o("span",{class:e.currency},[(f=t.modalContent)==null?void 0:f.recommendedCurrency]),o("span",{class:e["btn-edit"],onClick:()=>{b(t.modalContent)}},[n("lobby.modal.smartPay.edit")])])]),((g=t.modalContent)==null?void 0:g.payTypeName)&&((h=t.modalContent)==null?void 0:h.channelName)&&o("div",{class:e["content-item"]},[o("span",{class:e.label},[n("lobby.modal.smartPay.recommendChannel")]),o("div",{class:e.channel},[o("span",{class:e.label},[o("span",{class:e["label-text"]},[(v=t.modalContent)==null?void 0:v.payTypeName,">",(x=t.modalContent)==null?void 0:x.channelName]),o("span",{class:e["btn-edit"],onClick:()=>{b(t.modalContent)}},[n("lobby.modal.smartPay.edit")])])])])]),o("div",{class:e.footer},[o("div",{class:e.popover},[o("div",{class:e["inner-content"]},[o("div",{class:e.arrow},null),n("lobby.modal.smartPay.give"),o("span",{class:e.gift},[u(Number((C=t.modalContent)==null?void 0:C.deduceAmount))]),q(","),n("lobby.modal.smartPay.payedAmount"),o("span",{class:e.income},[u(Number((w=t.modalContent)==null?void 0:w.payedAmount))])])]),o(j,{loading:t.loading,class:e["btn-recharge"],type:"primary",block:!0,onClick:()=>{M(t.modalContent)}},ae(c=n("lobby.modal.pay.payBtn"))?c:{default:()=>[c]})]),o("div",{class:e["btn-close"],onClick:k},[o(D,{class:[e["btn-close-icon"],s.value>0?e["btn-close-icon-disabled"]:""],src:"/lobby_asset/common/web/common/img_close_s2.svg"},null),s.value>0&&o("p",{class:e.tips},[n("lobby.modal.smartPay.closeButtonTips",{s:s.value})])])]}})}}});export{_e as default};
//# sourceMappingURL=RechargeSmartIndex.CN8y628x.js.map
