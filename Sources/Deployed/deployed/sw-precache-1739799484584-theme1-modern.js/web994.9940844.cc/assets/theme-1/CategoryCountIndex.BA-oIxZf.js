import{a as U,e2 as e,dO as E,e6 as k,e9 as H,dP as I,eb as N,ec as y,ed as j,ee as D,ef as F,eg as w,a9 as x,a8 as V,q,ei as B,eh as Q}from"./main.C8q1iJMV.js";import{l as z,r as f,h as J,w as p,p as M,C as W}from"../vendors/vendor-@vue.DNlpgob2.js";import"../vendors/vendor-default.CjiYZF7Q.js";import"../vendors/vendor-bignumber.BRr1dcww.js";import"../vendors/vendor-lodash.BYdGDldS.js";import"../vendors/vendor-swiper.ZXc-sUCV.js";import"../vendors/vendor-stable.LD58Pbb3.js";import"../vendors/vendor-@intlify.BmUtFfVu.js";import"../vendors/vendor-@sentry.EjpkRnd3.js";import"../vendors/vendor-dom-to-image.C12bjAh8.js";const X=()=>{const{t:a}=U();return[{type:e.Today,title:r=>a("lobby.selfoperatedGames.sports.todayCount",{count:r})},{type:e.Rolling,title:r=>a("lobby.selfoperatedGames.sports.rollingCount",{count:r})},{type:e.Morning,title:r=>a("lobby.selfoperatedGames.sports.morningCount",{count:r})},{type:e.Parlay,title:r=>a("lobby.selfoperatedGames.sports.passLevelCount",{count:r})},{type:e.Outright,title:r=>a("lobby.selfoperatedGames.sports.championCount",{count:r})},{type:e.FocusOn,title:r=>a("lobby.selfoperatedGames.sports.focusOnCount",{count:r})}]},v={"category-count":"_category-count_12epn_17","category-item":"_category-item_12epn_20"};function Y(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!W(a)}const[Z]=q("pages-sport-category-count"),$="/sports/stream/v1/GetSports",pt=z({name:Z,props:{fromHome:Boolean},setup(a){const r=X(),c=E(),O=k(),P=H(),h=I(),{isKeptAlive:R}=N(),S=f(),m=f(),C=f(),T=f(),s={listToday:[],listRolling:[],listOutrightAndMorning:[],listParlay:[]},u=J({[e.Outright]:void 0,[e.Morning]:void 0,[e.Rolling]:void 0,[e.Today]:void 0,[e.Parlay]:void 0,[e.FocusOn]:void 0}),d=n=>B({sourcePath:$,params:{...Q(n)}}),A=()=>{m.value=d(e.Rolling),S.value=d(e.Today),C.value=d(e.Outright),T.value=d(e.Parlay)};p([R,()=>P.sportToken,()=>a.fromHome&&!h.isHomeTabOnSport],([n,t,o])=>{if(n||!t||o){m.value=void 0,S.value=void 0,C.value=void 0,T.value=void 0;return}A()},{immediate:!0});const{data:G}=y({url:m}),{data:K}=y({url:S}),{data:L}=y({url:C}),{data:_}=y({url:T});p(G,n=>{g("listRolling",n)&&l(s.listRolling).setRollingCount()}),p(K,n=>{g("listToday",n)&&l(s.listToday).setTodayCount()}),p(L,n=>{g("listOutrightAndMorning",n)&&l(s.listOutrightAndMorning).setOutrightAndMorningCount()}),p(_,n=>{g("listParlay",n)&&l(s.listParlay).setParlayCount()}),p(()=>c.sportKey,()=>{h.isMaintenance||(l(s.listRolling).setRollingCount(),l(s.listToday).setTodayCount(),l(s.listOutrightAndMorning).setOutrightAndMorningCount(),l(s.listParlay).setParlayCount())});const g=(n,t)=>{const o=j(t,D.Sports);return o?(s[n]=F({data:o,originList:s[n],itemKey:w.Sports,filterSport:!1}),!0):!1},l=n=>{const t=n.find(o=>o.sportType===c.sportKey);return{setRollingCount:()=>{var o;u[e.Rolling]=(o=t==null?void 0:t.liveGameCount)!=null?o:0},setTodayCount:()=>{var o,i;u[e.Today]=((o=t==null?void 0:t.liveGameCount)!=null?o:0)+((i=t==null?void 0:t.gameCount)!=null?i:0)},setOutrightAndMorningCount:()=>{var o,i;u[e.Outright]=(o=t==null?void 0:t.outrightGame)!=null?o:0,u[e.Morning]=(i=t==null?void 0:t.gameCount)!=null?i:0},setParlayCount:()=>{var o;u[e.Parlay]=(o=t==null?void 0:t.parlayGame)!=null?o:0}}};return()=>{let n;return M(V,{key:"categoryCount",class:v["category-count"],lineHeight:0,active:c.marketKey,"onUpdate:active":t=>c.marketKey=t,onChange:()=>{O.selectedListMap={}}},Y(n=r.map(t=>M(x,{name:t.type,titleClass:v["category-item"],title:()=>{var o,i,b;return t.type===e.FocusOn?t.title((i=(o=O.focusOnListMap[c.sportKey])==null?void 0:o.length)!=null?i:0):t.title((b=u[t.type])!=null?b:"...")}},null)))?n:{default:()=>[n]})}}});export{pt as default};
//# sourceMappingURL=CategoryCountIndex.BA-oIxZf.js.map
