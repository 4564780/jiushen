import{T as h}from"../vendors/vendor-stable.LD58Pbb3.js";import{q as k,cb as b}from"./main.C8q1iJMV.js";import{O as _,M as N}from"../vendors/vendor-default.CjiYZF7Q.js";import{l as C,t as x,r as R,w as S,b as g,p as l,f as U}from"../vendors/vendor-@vue.DNlpgob2.js";var o=(e=>(e.Countdown="Countdown",e.CanReceive="CanReceive",e.Expired="Expired",e.Expired1="Expired1",e.Expired2="Expired2",e.Reset="Reset",e.Update="Update",e.suffixSecond="suffixSecond",e.None="None",e))(o||{});const[M]=k("pages-components-countdown"),z=C({name:M,props:{duration:{type:Number,default:0}},emits:["update","complete"],setup(e,{slots:d,emit:r}){const{duration:p}=x(e),u=R(-1);let a=null;const s=N(1);return S(()=>p.value,n=>{n<0||(a&&a.kill(),a=new _({value:n},{raf:s}).to({value:0},{duration:n*1e3,onUpdate({target:c}){u.value=c.value,r("update")},onComplete(){u.value=0,r("complete")}}))},{immediate:!0}),g(()=>{a&&a.kill()}),()=>{var n;return l("span",null,[(n=d.default)==null?void 0:n.call(d,u.value)])}}}),T="_countdown_yzkn0_17",q="_inheritTextColor_yzkn0_29",E="_expiredCountdown_yzkn0_36",I="_receiveCountdown_yzkn0_45",i={countdown:T,inheritTextColor:q,expiredCountdown:E,receiveCountdown:I},[A]=k("pages-receive-countdown"),H=C({name:A,props:{duration:{type:Number,default:0},inheritTextColor:{type:Boolean,default:!1},durationFormat:{type:Function,default:b},textFormatType:{type:String,default:o.Countdown},className:{type:String,default:""},customStyle:{type:Object,default:()=>{}}},emits:["update","complete"],setup(e,{emit:d}){const{duration:r,textFormatType:p,className:u,customStyle:a}=x(e),s=U(()=>({[o.Countdown]:{keypath:"lobby.reward.vip.rewardMap.rewardTips0",keyword:"x"},[o.CanReceive]:{keypath:"lobby.reward.vip.rewardMap.rewardTimeTips",keyword:"x"},[o.Expired]:{keypath:"lobby.modal.task.timeNotArrived.expiryTime",keyword:"x"},[o.Expired2]:{keypath:"lobby.reward.base.expiredTime",keyword:"x"},[o.Expired1]:{keypath:"lobby.reward.base.expiredTime1",keyword:"0"},[o.Reset]:{keypath:"lobby.cpf.afterReset",keyword:"x"},[o.Update]:{keypath:"lobby.event.cutOnce.updateTime",keyword:"time"},[o.suffixSecond]:{keypath:"lobby.reward.vip.rewardMap.rewardTips6",keyword:"x"},[o.None]:{keypath:"",keyword:""}})),y=()=>{d("update")},n=()=>{d("complete")};return()=>l(z,{duration:Math.abs(r.value),onUpdate:y,onComplete:n},{default:c=>{var m,f,v;const w=l("span",{class:[i.countSpan]},[((m=e.durationFormat)==null?void 0:m.call(e,c))||""]),t=(f=s.value)==null?void 0:f[p.value];return l("span",{class:{[i.countdown]:!0,[i.receiveCountdown]:r.value>0,[i.expiredCountdown]:r.value<0,[u.value]:!!u.value,countdown:!0,[i.inheritTextColor]:e.inheritTextColor},style:a.value,"data-text":((v=e.durationFormat)==null?void 0:v.call(e,c))||""},[t!=null&&t.keypath?l(h,{keypath:t==null?void 0:t.keypath,tag:"span",scope:"global"},(t==null?void 0:t.keyword)==="0"?{default:()=>w}:{[t==null?void 0:t.keyword]:()=>w}):w])}})}});export{o as E,H as R};
//# sourceMappingURL=ReceiveCountdownIndex.C4K-6t0P.js.map
